---
title: EFS
author: cotes   
categories: [AWS SSA 03,인스턴스 스토리지]
tags: [AWS]






---

### **1. Amazon EFS란?**
- **정의**: 완전 관리형 **NFS(Network File System) 기반**의 공유 파일 스토리지 서비스.
- **목적**: 여러 EC2 인스턴스, 컨테이너, 온프레미스 서버에서 **동시 접근 가능**한 공유 스토리지 제공.

---

### **2. 주요 기능**
1. **탄력적 확장성**:
   - **자동 스케일링**: 스토리지 용량이 사용량에 따라 자동 확장/축소 (PB 단위 지원).
   - **성능 모드**:
     - **General Purpose**: 일반적인 워크로드 (웹 서버, 콘텐츠 관리).
     - **Max I/O**: 높은 병렬 처리 성능 (빅 데이터, AI/ML).
   - **처리량 모드**:
     - **Bursting**: 기본 처리량 + 버스팅 모드.
     - **Provisioned**: 예측 가능한 처리량 설정.

2. **다중 AZ 고가용성**:
   - 데이터가 **여러 가용 영역(AZ)**에 자동 복제 → 99.999999999% 내구성 보장.
   - **리전 간 복제(EFS-to-EFS)**: 재해 복구(DR) 목적.

3. **보안 및 접근 제어**:
   - **IAM 정책**: 파일 시스템 수준 접근 제어.
   - **VPC 보안 그룹**: 네트워크 트래픽 제어.
   - **KMS 암호화**: 저장 데이터 및 전송 암호화.

4. **스토리지 클래스**:
   - **Standard**: 자주 액세스하는 데이터.
   - **Infrequent Access (EFS-IA)**: 드물게 액세스하는 데이터 (저장 비용 최대 92% 절감).

5. **통합성**:
   - **AWS 서비스 연동**: EC2, Lambda, ECS, EKS, Backup 등.
   - **온프레미스 접근**: AWS Direct Connect/VPN을 통해 NFSv4 프로토콜로 연결.

---

### **3. 사용 사례**
- **웹 서버 및 콘텐츠 관리**: 여러 EC2 인스턴스가 공유 파일 저장소 필요 시.
- **DevOps 및 CI/CD**: 빌드 아티팩트, 로그 공유.
- **데이터 레이크**: 대규모 데이터 분석 (Hadoop, Spark).
- **컨테이너 스토리지**: ECS/EKS에서 다중 컨테이너가 공유 데이터 접근.

---

### **4. EFS vs 다른 서비스**
| **구분**        | **EFS**                       | **FSx for Lustre**                | **FSx for Windows**         |
| --------------- | ----------------------------- | --------------------------------- | --------------------------- |
| **프로토콜**    | NFSv4                         | Lustre                            | SMB                         |
| **성능**        | 초당 수천 IOPS                | 초당 수백 GB 처리 (HPC 최적화)    | Windows 애플리케이션 최적화 |
| **사용 사례**   | Linux 워크로드, 공유 스토리지 | HPC, 머신러닝, 대용량 데이터 처리 | Active Directory 통합 환경  |
| **관리 편의성** | 완전 관리형                   | 완전 관리형                       | 완전 관리형                 |

---

### **5. 주의 사항**
- **NFS 프로토콜 제한**: Windows 서버와 직접 호환되지 않음 (FSx for Windows 사용 권장).
- **비용 관리**: EFS-IA 활용 및 라이프사이클 정책으로 비용 최적화.
- **성능 튜닝**: 워크로드에 맞는 성능 모드 선택 (General Purpose vs Max I/O).

---

### **문제 해결 예시 (Q99)**
- **문제 요약**: Lustre 클라이언트 지원 + 완전 관리형 스토리지 필요.
- **정답**: **D. FSx for Lustre**  
  - **이유**: EFS는 NFS 기반이므로 Lustre 클라이언트와 호환되지 않음.  
  - FSx for Lustre는 Lustre 프로토콜을 완전 관리형으로 제공.

---

**결론**:  
Amazon EFS는 **Linux 기반 애플리케이션의 공유 스토리지**에 최적화된 서비스로,  
**NFS 프로토콜**, **다중 AZ 복제**, **완전 관리형** 특징을 갖추고 있습니다.  
Lustre 클라이언트가 필요한 경우 **FSx for Lustre**를 선택해야 합니다! 🚀