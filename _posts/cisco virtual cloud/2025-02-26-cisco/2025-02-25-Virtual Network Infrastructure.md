---
title: <h0>Virtual Network Infrastructure/h0>
author: cotes   
categories: [cisco virtual cloud, 2025-02-26-cisco]
tags: [Network, Cloud]















---

# Virtual Network Infrastructure



## 13.3.1 Type 1 Hypervisors

![image-20250226150813807](/assets/cisco_post_img/2025-02-25-Virtual Network Infrastructure//image-20250226150813807.png)



**📌 Type 1 하이퍼바이저 (베어 메탈 하이퍼바이저) – 상세 설명**

**1️⃣ Type 1 하이퍼바이저란?**



✔ **“베어 메탈(Bare Metal)” 하이퍼바이저**라고도 불리며, **하드웨어에 직접 설치**되는 가상화 소프트웨어

✔ **운영 체제(OS) 없이** 하이퍼바이저가 직접 하드웨어를 관리

✔ **기업 환경, 데이터센터, 클라우드 인프라에서 주로 사용됨**

**2️⃣ Type 1 하이퍼바이저의 동작 방식**



------

**🖥️ 기본 구성**

1. **하드웨어(Hardware)**

​	•	CPU, RAM, 스토리지, 네트워크 카드 등 물리적인 장비

2. **하이퍼바이저(Hypervisor, Virtualization Layer)**

​	•	하드웨어 위에 직접 설치됨

​	•	물리적인 하드웨어 자원을 가상 머신(VM)들에게 분배

3. **게스트 OS(Guest Operating Systems)**

​	•	하이퍼바이저 위에서 실행되는 운영 체제들

​	•	Windows, Linux, macOS 등의 OS를 동시에 실행 가능



------

📌 **Type 1 하이퍼바이저는 일반적인 OS 없이 하드웨어에서 바로 실행되므로, 가상 머신 관리에 최적화되어 있음.**

**3️⃣ Type 1 하이퍼바이저의 주요 특징 및 장점**



✅ **고성능 & 효율적**

​	•	하드웨어 자원에 **직접 접근**하기 때문에 **성능이 뛰어남**

​	•	OS를 거치지 않으므로 오버헤드(성능 저하)가 적음



✅ **안정성 & 보안성 우수**

​	•	OS가 없는 독립적인 소프트웨어라서, **게스트 OS가 다운되더라도 하이퍼바이저는 영향을 받지 않음**

​	•	일반적인 OS 기반 Type 2 하이퍼바이저보다 **공격 표면이 작아 보안성이 뛰어남**



✅ **확장성 & 데이터센터 최적화**

​	•	여러 개의 가상 머신(VM)을 동시에 실행 가능

​	•	클러스터링, 로드 밸런싱, 라이브 마이그레이션 등의 기능 지원



✅ **전문적인 기업 환경에 적합**

​	•	클라우드 서비스(AWS, Azure, GCP)에서 사용됨

​	•	엔터프라이즈 환경에서 서버 가상화 및 네트워크 가상화에 활용됨

**4️⃣ Type 1 하이퍼바이저의 대표적인 예제**



------

📌 **기업 환경 및 데이터센터에서 많이 사용되는 주요 Type 1 하이퍼바이저**

| **하이퍼바이저**                       | **설명**                               |
| -------------------------------------- | -------------------------------------- |
| **VMware ESXi**                        | 가장 널리 사용되는 기업용 하이퍼바이저 |
| **Microsoft Hyper-V (서버 버전)**      | Windows Server 환경에서 주로 사용됨    |
| **KVM (Kernel-based Virtual Machine)** | 리눅스 기반 오픈소스 하이퍼바이저      |
| **Xen**                                | AWS(Amazon Web Services)에서 사용됨    |

**5️⃣ Type 1 vs. Type 2 하이퍼바이저 비교**

| **비교 항목** | **Type 1 하이퍼바이저**         | **Type 2 하이퍼바이저**                   |
| ------------- | ------------------------------- | ----------------------------------------- |
| **설치 위치** | 하드웨어에 직접 설치            | 운영 체제(OS) 위에서 실행                 |
| **성능**      | 직접 하드웨어 접근 → **고성능** | OS를 거치므로 성능이 다소 낮음            |
| **안정성**    | OS와 분리되어 안정적            | 호스트 OS가 다운되면 가상 머신도 다운됨   |
| **사용 환경** | **기업 환경, 데이터센터**       | 개인 사용자, 개발 테스트용                |
| **예제**      | VMware ESXi, Hyper-V, KVM, Xen  | VirtualBox, VMware Workstation, Parallels |

**📌 결론**



------

✔ **Type 1 하이퍼바이저는 직접 하드웨어에서 실행되며, 기업 환경 및 데이터센터에 최적화된 고성능 가상화 솔루션이다.**

✔ **Type 2 하이퍼바이저보다 보안성, 확장성, 안정성이 뛰어나며, 클라우드 및 서버 가상화에 필수적이다.**

✔ **VMware ESXi, Microsoft Hyper-V, KVM, Xen 등이 대표적인 예시로 사용된다.**

------

------

## 13.3.2 Installing a VM on a Hypervisor(하이퍼바이저에서 가상 머신(VM) 설치)



![image-20250226152802869](/assets/cisco_post_img/2025-02-25-Virtual Network Infrastructure//image-20250226152802869.png)

**하이퍼바이저 설치 후 초기 상태**

​	•	Type 1 하이퍼바이저가 설치되고 서버가 재부팅되면, 기본적인 정보(운영 체제 버전, RAM 용량, IP 주소 등)만 표시됨.

​	•	이 상태에서는 가상 머신(OS 인스턴스)을 생성할 수 없음.

​	•	**Type 1 하이퍼바이저는 “관리 콘솔(Management Console)”을 필요로 함.**

​	•	관리 소프트웨어를 이용하여 여러 개의 서버를 통합 관리할 수 있음.

**관리 콘솔의 역할**

**서버 간 자원 이동:**

​	•	네트워크 관리자가 관리 콘솔을 이용하여 특정 하이퍼바이저에서 실행 중인 가상 머신을 다른 하이퍼바이저로 이동 가능.

​	•	예를 들어, Server1의 리소스가 부족하면, 관리 콘솔을 이용하여 Windows 인스턴스를 Server2의 하이퍼바이저로 이동할 수 있음.

​	•	일부 관리 콘솔은 자동 임계값 설정이 가능하여, 리소스 부족 시 자동으로 VM을 이동시킴.

**하드웨어 장애 복구:**

​	•	서버 하드웨어가 고장 날 경우, 관리 콘솔이 자동으로 가상 머신을 다른 서버로 이동시켜 **서비스 연속성(High Availability)** 보장.

**Cisco UCS Manager 예시:**

​	•	Cisco UCS Manager는 다수의 서버를 관리하고, 수천 개의 VM을 효과적으로 배포할 수 있도록 지원함.

**오버할당(Over Allocation) 기능**

**오버할당(Over Allocation):**

​	•	**서버의 실제 메모리 용량을 초과하여 가상 머신을 생성하는 기능.**

​	•	예를 들어, 서버의 물리적 RAM이 **16GB**인데, 관리자가 **각각 10GB의 RAM을 할당한 OS 인스턴스 4개**를 생성하는 경우.

​	•	**실제 실행 중인 VM이 동시에 최대 RAM을 사용할 확률이 낮기 때문에, 메모리 오버할당은 일반적인 관리 기법으로 사용됨.**

**정리**

​	•	Type 1 하이퍼바이저는 관리 콘솔을 통해 가상 머신을 생성하고 이동 가능.

​	•	하드웨어 장애 발생 시 관리 콘솔이 VM을 자동으로 다른 서버로 이동.

​	•	오버할당 기법을 활용하여 RAM 자원을 효율적으로 운영 가능.

------

------

## 13.3.3 The Complexity of Network Virtualization

![image-20250226152922958](/assets/cisco_post_img/2025-02-25-Virtual Network Infrastructure//image-20250226152922958.png)

**서버 가상화와 전통적인 네트워크 아키텍처의 문제점**



서버 가상화(Server Virtualization)는 물리적인 서버 자원(서버 개수, 프로세서, 운영 체제 등)을 사용자에게 숨기는 기술임. 하지만, 데이터 센터가 전통적인 네트워크 아키텍처를 사용할 경우 몇 가지 문제가 발생할 수 있음.

**1. 네트워크 구성의 어려움**

​	•	**VLAN 문제:**

​	•	기존 네트워크에서 VLAN은 물리적 서버가 연결된 **스위치 포트**에 할당됨.

​	•	하지만, **가상 머신(VM)은 이동 가능(Movable)** 하기 때문에, VM이 이동할 때마다 새로운 VLAN 설정을 적용해야 함.

​	•	기존의 전통적인 네트워크 스위치에서는 **수동으로 VLAN을 추가/변경해야 하므로** 시간이 오래 걸림.

**2. 트래픽 흐름의 변화**

​	•	기존 네트워크는 **클라이언트-서버 모델**을 기반으로 설계됨. (예: 사용자 → 데이터 센터 → 서버)

​	•	하지만, 가상화 환경에서는 **서버 간 데이터 이동량(East-West 트래픽)** 이 급격히 증가함.



------

**트래픽 유형**

**North-South Traffic (북-남 방향 트래픽)**

​	•	**분배 계층(Distribution Layer)** 과 **코어 계층(Core Layer)** 사이에서 발생하는 트래픽.

​	•	외부 데이터 센터, 클라우드 서비스, 인터넷 등 **오프사이트(Offsite) 위치로 이동하는 트래픽.**

**East-West Traffic (동-서 방향 트래픽)**

​	•	**데이터 센터 내부에서 가상 서버 간 교환되는 트래픽.**

​	•	예를 들어, **UCS 서버들 간의 데이터 전송**이 여기에 해당됨.

​	•	이 트래픽은 위치와 강도가 변할 수 있어 **유연한 네트워크 관리가 필요함.**

**3. 동적인 네트워크 관리 필요성**

​	•	기존 네트워크 인프라는 **고정적인 설정**이 많아 **가상 환경에서 변경이 발생할 때 대응하기 어려움.**

​	•	예를 들어, **새로운 VM이 추가될 때마다 QoS 및 보안 설정을 수동으로 조정해야 하는 문제**가 발생.

​	•	특히, **멀티벤더 장비를 사용하는 대기업 환경**에서는 **재구성(reconfiguration)** 이 매우 복잡하고 시간이 오래 걸림.

**4. 네트워크 가상화(Network Virtualization)**

​	•	기존 서버 가상화뿐만 아니라 **네트워크 기능도 가상화할 수 있음.**

​	•	하나의 물리적 네트워크 장비를 **여러 개의 가상 네트워크 장비로 분할하여 독립적으로 운영** 가능.



------

**네트워크 가상화의 예시**

✅ **서브인터페이스(Subinterfaces):**

​	•	하나의 물리적 인터페이스를 여러 개의 가상 인터페이스로 나누어 사용.

✅ **가상 인터페이스(Virtual Interfaces):**

​	•	물리적 인터페이스가 없어도 소프트웨어적으로 인터페이스를 생성하여 사용할 수 있음.

✅ **VLAN (Virtual LANs):**

​	•	논리적으로 네트워크를 분할하여 여러 개의 독립적인 네트워크를 구성.

✅ **가상 라우팅(Virtual Routing and Forwarding, VRF):**

​	•	하나의 라우터에서 여러 개의 가상 라우팅 테이블을 운영하여 서로 다른 네트워크를 독립적으로 관리.

**결론**

기존 네트워크 아키텍처에서는 **가상화된 환경에 대응하기 어렵고, 변화하는 트래픽 패턴을 관리하는 데 한계**가 있음.

이를 해결하기 위해서는 **네트워크 가상화(Network Virtualization)** 기술을 활용하여 **유연하고 확장성 있는 네트워크**를 구성해야 함.
