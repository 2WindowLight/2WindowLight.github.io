---
title: <h0>Virtualization</h0>
author: cotes   
categories: [cisco virtual cloud, 2025-02-26-cisco]
tags: [Network, Cloud]
















---

# Virtualization



## **13.2.1 클라우드 컴퓨팅과 가상화**

이전 주제에서는 **클라우드 서비스와 클라우드 모델**에 대해 다루었다. 이번 주제에서는 **가상화(Virtualization)**에 대해 설명한다.

**클라우드 컴퓨팅과 가상화는 서로 다른 개념**이지만, 종종 혼용된다. **가상화는 클라우드 컴퓨팅의 기반 기술**이며, 가상화 없이는 현재 널리 사용되는 형태의 클라우드 컴퓨팅 구현이 불가능하다.



**가상화의 개념**

가상화는 **운영 체제(OS)와 하드웨어를 분리**하는 기술이다. 이를 통해 클라우드 서비스 제공업체는 필요에 따라 서버를 동적으로 프로비저닝할 수 있다.

예를 들어, **Amazon Web Services(AWS)**는 고객이 원하는 만큼 컴퓨팅 자원을 동적으로 할당할 수 있도록 지원한다. 이러한 **가상 서버 인스턴스는 필요할 때마다 즉시 생성**된다.

**가상화 기반 클라우드 서비스**

AWS 관리 콘솔(AWS Management Console)을 사용하면 네트워크 관리자가 가상 머신, 웹 애플리케이션, 가상 서버, IoT 장치 연결 등 **다양한 서비스를 배포할 수 있다**.

**즉, 가상화는 자원의 효율적 사용이다.**

------

**프로비저닝(Provisioning) 개념**



**프로비저닝(Provisioning)**은 **IT 시스템에서 필요한 자원을 사전에 준비하고 할당하는 과정**을 의미한다.

즉, **서버, 네트워크, 스토리지, 소프트웨어, 사용자 계정 등 IT 서비스가 정상적으로 운영될 수 있도록 필요한 환경을 설정하고 제공하는 것**이다.



**프로비저닝의 핵심 개념**

​	1.	**자원 할당(Resource Allocation)**

​	•	필요한 IT 인프라(서버, 스토리지, 네트워크 등)를 특정 목적에 맞게 할당하는 과정

​	2.	**자동화 및 관리(Auto-Scaling & Management)**

​	•	클라우드 환경에서는 프로비저닝을 자동화하여 자원을 효율적으로 배분하고 확장 가능

​	•	예: 사용량이 증가하면 자동으로 서버를 추가하는 오토스케일링

​	3.	**온디맨드 프로비저닝(On-Demand Provisioning)**

​	•	필요할 때 즉시 자원을 할당하고, 사용하지 않으면 해제하는 방식

​	•	예: AWS, Azure, Google Cloud에서 가상 머신을 필요할 때 생성하고 삭제하는 것

​	4.	**정적 vs 동적 프로비저닝**

​	•	**정적 프로비저닝**: 미리 정해진 자원과 설정을 기반으로 할당

​	•	**동적 프로비저닝**: 실시간으로 요구에 따라 자원을 추가하거나 제거



**프로비저닝의 역할**

​	•	IT 서비스가 원활하게 실행될 수 있도록 환경을 사전에 구성

​	•	필요할 때 즉시 자원을 제공하여 효율적인 운영 가능

​	•	클라우드 환경에서 자동화된 자원 배포 및 관리 가능



즉, **프로비저닝은 IT 시스템이 정상적으로 운영될 수 있도록 필요한 자원을 설정하고 배포하는 과정**이다.

------

------

## 13.2.2 Dedicated Servers

![image-20250226125330085](/assets/cisco_post_img/2025-02-26-Virtualization//image-20250226125330085.png)

**13.2.2 전용 서버(Dedicated Servers)**



**개념**



전용 서버(Dedicated Server)는 **하나의 물리적 서버를 특정 목적이나 고객을 위해 독점적으로 사용하는 서버**이다.

모든 하드웨어 자원이 특정 애플리케이션, 서비스 또는 조직에 **전담(dedicated)**되어 동작한다.



과거의 서버 환경에서는 **Windows Server, Linux Server 같은 운영 체제(OS)를 물리적인 서버 하드웨어에 직접 설치**하는 방식이 일반적이었다.

서버의 **RAM, CPU, 저장 공간(HDD/SSD)** 등 모든 자원은 특정 서비스(Web, 이메일 등)를 제공하는 데 **전적으로 할당**되었다.

**주요 특징**

1. **고성능 & 안정성**

​	•	특정 애플리케이션이나 서비스 전용으로 사용되기 때문에 **리소스 충돌 없이 안정적인 성능 제공**

​	•	트래픽이 많거나 연산이 집중적으로 필요한 환경에서 효과적

2. **독립적인 운영 환경**

​	•	다른 사용자나 서비스와 자원을 공유하지 않으므로 보안성이 높음

​	•	특정 기업이나 프로젝트의 요구 사항에 맞게 서버를 **커스터마이징 가능**

3. **직접적인 하드웨어 제어**

​	•	사용자가 서버의 **CPU, 메모리, 디스크 등의 하드웨어 자원을 직접 관리**할 수 있음

​	•	필요에 따라 운영 체제(OS) 및 애플리케이션을 자유롭게 설치 및 설정 가능

4. **비용과 유지 관리 부담**

​	•	물리적 서버를 전담으로 사용하므로 **초기 구축 비용과 유지 관리 비용이 높음**

​	•	하드웨어 장애 시 직접 유지보수를 해야 하며, 스케일업(확장)이 어렵고 시간이 많이 소요됨

**전용 서버 vs 가상화 서버 비교**

| **구분**           | **전용 서버 (Dedicated Server)**           | **가상화 서버 (Virtual Server)**              |
| ------------------ | ------------------------------------------ | --------------------------------------------- |
| **자원 사용 방식** | 단일 서버의 자원을 특정 서비스에 100% 할당 | 하나의 물리 서버를 여러 가상 서버로 나눠 사용 |
| **확장성**         | 리소스 확장이 어렵고 물리 서버 추가 필요   | 필요에 따라 가상 서버를 생성하고 확장 가능    |
| **유지 보수**      | 직접 하드웨어 관리 및 유지 보수 필요       | 클라우드 제공업체에서 관리 가능               |
| **비용**           | 초기 구축 비용과 운영 비용이 높음          | 사용한 만큼 비용 지불 (클라우드 환경)         |
| **보안성**         | 자원을 공유하지 않아 높은 보안성 제공      | 공유 환경에서는 보안 설정이 필요              |

**정리**



전용 서버는 **특정 서비스나 조직을 위해 물리적으로 독립된 서버를 할당하는 방식**이다.

강력한 성능과 보안성을 제공하지만, 비용이 높고 확장이 어려운 단점이 있다.

이러한 한계를 해결하기 위해 **가상화 기술이 도입되었으며, 가상화 기반의 클라우드 서버가 널리 사용되고 있다**.



이 구성의 주요 문제는 **어떤 구성 요소가 고장 날 경우 해당 서버가 제공하는 서비스가 중단되는 것**이다. 이를 **단일 장애점(Single Point of Failure, SPOF)**이라고 한다.	

또 다른 문제는 **전용 서버의 활용도가 낮다는 점**이다.

전용 서버는 특정 서비스를 제공할 필요가 있을 때까지 오랜 시간 동안 **유휴 상태로 대기**하는 경우가 많았다.

이로 인해 **에너지가 낭비되고, 제공하는 서비스에 비해 불필요하게 많은 공간을 차지**하게 된다.

이를 **서버 확산(Server Sprawl)**이라고 한다.

------

## workload = 트래픽



------

------

## 13.2.3 Server Virtualization

![image-20250226125700354](/assets/cisco_post_img/2025-02-26-Virtualization//image-20250226125700354.png)

### **서버 가상화(Server Virtualization)**

서버 가상화는 **유휴 상태의 자원을 효율적으로 활용**하고, 필요한 서버의 개수를 줄이는 방식이다. 이를 통해 **하나의 하드웨어 플랫폼에서 여러 운영 체제를 실행할 수 있다**.

**하이퍼바이저를 이용한 서버 통합**



기존에는 8대의 전용 서버가 각각 개별 서비스를 제공했다.

하지만 가상화를 활용하면 **하이퍼바이저(Hypervisor)**를 이용하여 **두 개의 물리 서버에서 여러 개의 가상 서버(운영 체제)를 실행할 수 있다**.

**예제: 8개의 전용 서버를 2개의 가상화 서버로 통합**

**서버 1**

​	•	**하이퍼바이저 위에서 4개의 Windows OS 실행**

​	•	각각 **웹 서버, 이메일 서버, SQL 서버, 파일 서버** 운영

**서버 2**

​	•	**하이퍼바이저 위에서 4개의 Windows OS 실행**

​	•	각각 **DHCP 서버, 액티브 디렉토리(AD) 서버, RADIUS 서버, 네트워크 관리 서버** 운영



이처럼 하이퍼바이저를 사용하면 하나의 물리 서버에서 여러 개의 가상 운영 체제를 실행할 수 있다.

**가상화와 이중화(Redundancy) 보호**



가상화 환경에서는 **단일 장애점(SPOF, Single Point of Failure)을 방지하기 위해 이중화(Redundancy)를 적용**한다.

이중화 방식에는 다음과 같은 방법이 있다.

1. **하이퍼바이저 장애 발생 시 VM 재시작**

​	•	하이퍼바이저가 장애를 일으키면, 해당 가상 머신(VM)을 다른 하이퍼바이저에서 자동으로 재시작할 수 있다.

2. **VM 동시 실행 (실시간 복제)**

​	•	동일한 VM을 **두 개의 하이퍼바이저에서 동시에 실행**하고, 메모리(RAM) 및 CPU 명령어를 실시간으로 동기화

​	•	한 하이퍼바이저가 고장 나도 다른 하이퍼바이저에서 계속 실행 가능

3. **가상 서비스의 동적 설치/제거**

​	•	가상 환경에서는 **필요한 서비스(웹 서버, DB 서버 등)를 동적으로 설치/제거 가능**

**하이퍼바이저(Hypervisor)란?**

#### **Special OS**

**하이퍼바이저는 물리적 하드웨어 위에서 가상 머신(VM)을 생성하고 관리하는 소프트웨어, 펌웨어 또는 하드웨어**이다.

하이퍼바이저는 **CPU, 메모리, 디스크 컨트롤러, 네트워크 인터페이스 카드(NIC) 등의 하드웨어를 가상 머신에 제공**하여 각 가상 머신이 독립적인 운영 체제를 실행할 수 있도록 한다.



**서버 통합(Server Consolidation) 효과**

기업들은 가상화를 통해 필요한 물리 서버의 수를 줄일 수 있다.

예를 들어, 기존에 **100대의 물리 서버를 사용하던 환경에서, 하이퍼바이저를 활용하여 10대의 물리 서버에 가상 머신(VM)으로 통합**할 수 있다.



이를 통해 **하드웨어 비용 절감, 에너지 효율 향상, 공간 절약 및 관리 비용 절감 효과**를 얻을 수 있다.

------

## 13.2.4 Advantages of Virtualization



**1. 비용 절감**

​	•	**장비 감소**: 서버 가상화를 통해 서버 통합이 가능하여 물리적 서버, 네트워크 장비, 기타 인프라가 줄어든다. 이는 유지보수 비용 절감으로 이어진다.

​	•	**에너지 절약**: 서버 통합으로 전력 및 냉각 비용이 감소하며, 기업의 탄소 배출량 감축에 기여한다.

​	•	**공간 절약**: 가상화를 통한 서버 통합으로 데이터 센터의 전체 공간이 줄어든다. 서버, 네트워크 장비, 랙이 감소하면서 필요한 물리적 공간이 줄어든다.



**2. 추가적인 이점**

​	•	**빠른 프로토타이핑**: 격리된 네트워크에서 독립적인 테스트 환경을 신속하게 생성할 수 있다. 실수 발생 시 이전 버전으로 쉽게 복구 가능하며, 테스트 완료 후 실제 운영 환경에 배포할 수 있다.

​	•	**빠른 서버 프로비저닝**: 물리 서버를 설정하는 것보다 가상 서버를 생성하는 속도가 훨씬 빠르다.

​	•	**서버 가동 시간 증가**: 최신 가상화 플랫폼은 **라이브 마이그레이션, 스토리지 마이그레이션, 고가용성(HA), 분산 리소스 스케줄링(DRS)**과 같은 고급 장애 내성 기능을 제공한다.

​	•	**향상된 재해 복구**: 가상화는 하드웨어 추상화 기능을 제공하여, 복구 사이트의 하드웨어가 기존 운영 환경과 동일할 필요가 없다. 또한, 대부분의 엔터프라이즈 가상화 플랫폼은 **재해 발생 전 장애 조치(Failover) 테스트 및 자동화 기능**을 제공한다.

​	•	**레거시 시스템 지원**: 가상화를 통해 기존 운영 체제 및 애플리케이션의 수명을 연장할 수 있어, 기업이 최신 솔루션으로 마이그레이션할 시간을 확보할 수 있다.

------



------

## 13.2.5 Abstraction Layers

![image-20250226143912810](/assets/cisco_post_img/2025-02-26-BGP Practice Review//image-20250226143912810.png)



![image-20250226143935909](/assets/cisco_post_img/2025-02-26-BGP Practice Review//image-20250226143935909.png)

가상화(Virtualization)가 어떻게 작동하는지를 설명하기 위해, 컴퓨터 아키텍처에서의 **추상화 계층(abstraction layers)**을 이해하는 것이 도움이 됩니다. 컴퓨터 시스템은 다음과 같은 계층으로 구성됩니다.

​	1.	**서비스 (Services)**

​	2.	**운영체제 (OS, Operating System)**

​	3.	**펌웨어 (Firmware)**

​	4.	**하드웨어 (Hardware)**



이러한 각 추상화 계층에서는 **아래 계층과 위 계층 간의 인터페이스 역할을 하는 프로그래밍 코드**가 사용됩니다. 예를 들어, **C 프로그래밍 언어**는 하드웨어를 제어하는 **펌웨어(firmware)**를 프로그래밍하는 데 자주 사용됩니다.

**가상화(Virtualization)의 예**



아래 그림(예제)에서 보듯이, **하이퍼바이저(Hypervisor)**는 **펌웨어와 운영체제(OS) 사이에 설치**됩니다. 하이퍼바이저는 **여러 개의 운영체제(다중 OS 인스턴스)를 동시에 지원**할 수 있습니다.



즉, **하이퍼바이저는 물리적 하드웨어를 가상화하여 여러 개의 가상 머신(VM, Virtual Machines)을 실행할 수 있도록 하는 소프트웨어 계층**입니다.

------

## 13.2.6 Type 2 Hypervisors

![image-20250226144155041](/assets/cisco_post_img/2025-02-26-BGP Practice Review//image-20250226144155041.png)

**Type 2 하이퍼바이저**는 **가상 머신(VM, Virtual Machine)을 생성하고 실행하는 소프트웨어**입니다. 하이퍼바이저가 하나 이상의 VM을 지원하는 컴퓨터를 **호스트 머신(host machine)**이라고 합니다.



Type 2 하이퍼바이저는 **호스티드 하이퍼바이저(hosted hypervisor)**라고도 불리는데, 이는 **기존 운영체제(OS)** 위에 설치되기 때문입니다. 즉, **macOS, Windows, Linux 등의 운영체제 위에 하이퍼바이저를 설치**한 후, 그 위에 **추가적인 운영체제(게스트 OS)를 설치**하는 방식입니다.

**Type 2 하이퍼바이저의 구조**



------

그림처럼 **Type 2 하이퍼바이저**는 **호스트 머신**에서 다음과 같은 구조를 가집니다.

​	1.	**하드웨어(Hardware)**

​	2.	**호스트 운영체제(Operating System)**

​	3.	**하이퍼바이저(Hypervisor)**

​	4.	**게스트 운영체제(Guest OS)** (예: Windows, Linux, Unix)

------

**Type 2 하이퍼바이저의 장점**

Type 2 하이퍼바이저의 가장 큰 장점은 **관리 콘솔 소프트웨어가 필요하지 않다는 것**

이러한 이유로 **Type 2 하이퍼바이저는 개인 사용자 및 가상화 실험을 진행하는 조직에서 인기가 많다.**

**대표적인 Type 2 하이퍼바이저**



다음은 널리 사용되는 **Type 2 하이퍼바이저**입니다.

​	•	**Virtual PC**

​	•	**VMware Workstation**

​	•	**Oracle VM VirtualBox**

​	•	**VMware Fusion**

​	•	**Mac OS X Parallels**



**하이퍼바이저(Hypervisor) 유형 정리**



**1. Type 1 하이퍼바이저 (Bare-metal)**

​	•	하드웨어 위에서 직접 실행되는 하이퍼바이저

​	•	운영체제(OS) 없이 동작하며, 주로 서버 환경에서 사용됨

​	•	성능이 뛰어나고 안정성이 높음

​	•	예시: **VMware ESXi, Microsoft Hyper-V, Xen, KVM**



**2. Type 2 하이퍼바이저 (Hosted)**

​	•	기존 운영체제 위에서 실행되는 하이퍼바이저

​	•	일반적인 PC에서도 사용 가능하며, 관리가 쉬움

​	•	성능이 Type 1에 비해 낮고, 추가적인 리소스를 소비함

​	•	예시: **VMware Workstation, Oracle VirtualBox, Parallels, VMware Fusion**

------

이 중 많은 Type 2 하이퍼바이저는 무료로 제공되지만, 일부는 **추가 기능을 유료로 제공**하기도 합니다.

**주의 사항**



​	**호스트 머신의 성능이 충분해야 원활한 VM 실행이 가능하며, 리소스 부족 문제가 발생하지 않습니다.**

------

##  기타

hypervisor = special OS

- VMware: vSphere
- MS: Hyper-V
- Citrix: Xen
- Linux: KVM



​	•	**VMware Hypervisor**: VMware에서 제공하는 가상화 소프트웨어를 통칭하는 개념.

​	•	**ESXi**: VMware에서 제공하는 Type 1 (베어메탈) 하이퍼바이저. 운영체제 없이 하드웨어에서 직접 실행됨.

​	•	**vSphere**: VMware의 가상화 플랫폼 제품군의 이름. ESXi + vCenter Server 등 다양한 관리 기능 포함.

​	•	**VMkernel**: ESXi 내부에서 동작하는 핵심 운영 체제 커널. 가상 머신(VM)과 하드웨어 자원을 관리함.



즉, **VMware Hypervisor**의 대표적인 제품이 **ESXi**이고, ESXi는 **vSphere**의 일부이며, ESXi 내부의 가상화 관리 핵심 요소가 **VMkernel**이다.

------

