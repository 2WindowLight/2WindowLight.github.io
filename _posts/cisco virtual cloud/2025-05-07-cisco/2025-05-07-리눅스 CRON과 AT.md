---
title: <h0>리눅스 CRON과 AT</h0>
author: cotes 
categories: [Linux,Linux 명령어]
tags: [Network,Linux]








---

## CRON과 AT

------

## **CRON: 주기적 작업 예약**

### **개요**

- **목적**: 정해진 시간/주기(분, 시간, 일, 월, 요일)에 반복적으로 명령어 또는 스크립트 실행
- **핵심 구성 요소**:
  - **`crond` 데몬**: 백그라운드에서 실행되며 예약된 작업을 관리합니다.
  - **`crontab` 파일**: 사용자별로 작업 스케줄을 정의하는 설정 파일입니다.
  - **시스템 크론**: `/etc/crontab`, `/etc/cron.d/` 등 시스템 전체 작업을 관리합니다.

------

### **crontab 사용법**

#### 1. **명령어**

- **작업 편집**: `crontab -e`
- **작업 목록 확인**: `crontab -l`
- **작업 삭제**: `crontab -r`

#### 2. **문법**

```
* * * * * [실행할 명령어]
```

- **시간/주기 필드** (왼쪽 → 오른쪽):

  | 분(0-59) | 시간(0-23) | 일(1-31) | 월(1-12) | 요일(0-7, 0과7=일요일) |
  | :------- | :--------- | :------- | :------- | :--------------------- |

#### 3. **특수 문자**

- `*`: 모든 값 (예: 매분)
- `,`: 복수 값 지정 (예: `1,3,5`)
- `-`: 범위 지정 (예: `1-5`)
- `/`: 간격 (예: `*/10` = 10분마다)
- `@reboot`: 시스템 재부팅 시 실행

#### 4. **예제**

```bash
# 매일 03:00에 백업 스크립트 실행
0 3 * * * /home/user/backup.sh

# 매월 1일 09:30에 로그 정리
30 9 1 * * /usr/bin/log-cleaner

# 매주 금요일 17:00에 리포트 생성
0 17 * * 5 /scripts/generate-report.sh

# 5분마다 상태 체크
*/5 * * * * /monitor/status-check
```

------

------

## **AT: 일회성 작업 예약**

### **개요**

- **목적**: 한 번만 실행할 작업을 특정 시간에 예약합니다.
- **핵심 구성 요소**:
  - **`atd` 데몬**: 작업을 실행하는 백그라운드 프로세스입니다.
  - **`at` 명령어**: 작업을 예약하는 인터페이스입니다.

------

### **AT 사용법**

#### 1. **명령어**

- **작업 예약**: `at [시간]`
- **작업 목록 확인**: `atq`
- **작업 삭제**: `atrm [작업 ID]`

#### 2. **시간 지정 형식**

- **절대 시간**: `HH:MM`, `YYYY-MM-DD HH:MM`
- **상대 시간**:
  `now + 10 minutes`
  `tomorrow 14:00`
  `next week`

------

#### 3. **예제**

```bash
# 22:00에 스크립트 실행
$ at 22:00
at> /scripts/alert.sh
at> <Ctrl+D> # 저장

# 2시간 후에 파일 삭제
$ at now + 2 hours
at> rm /tmp/log_*.tmp
at> <Ctrl+D>
```

#### 4. **출력 처리**

- 작업 출력은 이메일로 전송되며, 리다이렉션으로 파일에 저장 가능:

  ```bash
  at 15:00
  at> ls -l /home > ~/file-list.txt
  ```

------

## **CRON vs AT 비교**

| 기능            | CRON                  | AT                      |
| :-------------- | :-------------------- | :---------------------- |
| **실행 주기**   | 반복적 작업           | 일회성 작업             |
| **시간 지정**   | 복잡한 주기 설정 가능 | 단순한 일회성 시간 지정 |
| **사용 편의성** | 설정 파일 편집 필요   | 즉시 명령어 입력 가능   |
| **보안**        | `cron.allow/deny`     | `at.allow/deny`         |

------

## **활용 예시**

### **CRON 예시: 로그 백업**

```bash
# 매일 새벽 2시에 /var/log 압축 백업
0 2 * * * tar -czf /backup/logs_$(date +\%Y\%m\%d).tar.gz /var/log
```

### **AT 예시: 시스템 업데이트**

```bash
# 10분 후에 패키지 업데이트 및 재부팅
$ at now + 10 minutes
at> apt update && apt upgrade -y
at> shutdown -r now
at> <Ctrl+D>
```