---
title: <h0>AWS CDN</h0>
author: cotes 
categories: [cisco virtual cloud,2025-04-15-cisco]
tags: [Network,AWS]


---

# AWS CDN

### **AWS CDN (Content Delivery Network) 개념 및 동작 방식 정리**

---

#### **1. AWS CDN의 핵심 서비스: Amazon CloudFront**
- **정의**: AWS의 **글로벌 CDN 서비스**로, 정적/동적 콘텐츠를 사용자와 가까운 **엣지 로케이션(Edge Location)**에서 캐싱해 지연 시간을 줄입니다.
- **주요 특징**:
  - **전 세계 400개 이상의 엣지 로케이션**으로 구성된 네트워크.
  - **DDoS 보호** (AWS Shield Standard 통합).
  - **SSL/TLS 암호화** 지원.
  - **Lambda@Edge**로 콘텐츠 동적 처리 가능.

---

#### **2. CDN 캐싱 방식**
캐싱은 **콘텐츠 유형**과 **설정**에 따라 다르게 동작합니다.

##### **(1) 정적 콘텐츠 캐싱**
- **대상**: 이미지, CSS, JS, 비디오 등 변경되지 않는 파일.
- **캐싱 동작**:
  - 최초 요청 시 **오리진 서버**(예: S3, EC2)에서 콘텐츠를 가져와 엣지 로케이션에 저장.
  - 이후 요청은 **엣지 로케이션**에서 직접 응답 → **초고속 전송**.
- **TTL (Time-to-Live)**:
  - `Cache-Control` 헤더 또는 CloudFront 설정으로 캐시 유지 시간 지정 (예: 24시간).

##### **(2) 동적 콘텐츠 캐싱**
- **대상**: 개인화된 데이터, API 응답 등 실시간 생성 콘텐츠.
- **캐싱 전략**:
  - **전체 페이지 캐싱 불가** → **쿼리 문자열/쿠키 기반 캐싱** 설정 가능.
  - `Cache-Control: no-cache` 헤더 사용 시 오리진 서버로 전달.

##### **(3) 캐시 무효화 (Cache Invalidation)**
- **목적**: 특정 파일을 강제로 갱신해야 할 때 사용.
- **방법**:
  - CloudFront 콘솔에서 `/*` 또는 `/images/*` 경로 지정.
  - **비용 발생**: 무효화 요청 건수에 따라 과금.

---

#### **3. CloudFront 동작 방식**
##### **(1) 요청 처리 흐름**
1. **사용자 요청**: `https://example.com/image.jpg` 접속.
2. **DNS 라우팅**: Route 53이 가장 가까운 엣지 로케이션으로 요청 전달.
3. **캐시 확인**:
   - **캐시 히트**: 엣지 로케이션에서 즉시 응답.
   - **캐시 미스**: 오리진 서버(S3/EC2)에서 콘텐츠 가져와 캐싱 후 응답.
4. **응답 전송**: 사용자에게 콘텐츠 전달.

##### **(2) 오리진 서버 연결**
- **지원 오리진**:
  - **AWS 서비스**: S3, EC2, ALB, API Gateway.
  - **온프레미스**: Custom Origin (HTTP 서버).
- **프로토콜**: HTTP/HTTPS 지원.

##### **(3) 보안 기능**
- **서명된 URL/Cookie**: 인증된 사용자만 콘텐츠 접근 가능.
- **WAF 연동**: SQL Injection, XSS 공격 차단.
- **Field-Level 암호화**: 민감한 데이터(예: 신용카드 번호) 선택적 암호화.

---

#### **4. 사용 사례**
- **정적 웹 사이트 가속**: S3 호스팅 웹 사이트의 전 세계 배포.
- **동적 콘텐츠 최적화**: API Gateway + Lambda@Edge로 지연 시간 감소.
- **라이브 스트리밍**: AWS Media Services와 연동해 실시간 비디오 전송.
- **보안 강화**: DDoS 방어 및 데이터 암호화.

---

#### **5. 캐싱 최적화 팁**
- **정적 콘텐츠**: `Cache-Control: max-age=31536000` (1년) 설정.
- **동적 콘텐츠**: `Query String Forwarding` 활성화해 필요한 파라미터만 전달.
- **비용 절감**: 지역 제한(Geo-Restriction)으로 불필요한 트래픽 차단.

---

### **요약: AWS CDN의 핵심**
| **구분**      | **설명**                                              |
| ------------- | ----------------------------------------------------- |
| **서비스**    | Amazon CloudFront                                     |
| **캐싱 대상** | 정적 콘텐츠 (이미지, 비디오) / 동적 콘텐츠 (API 응답) |
| **동작 원리** | 엣지 로케이션에서 캐시 → 지연 시간 감소               |
| **보안**      | SSL/TLS, WAF, 서명된 URL                              |
| **통합**      | S3, EC2, Lambda@Edge, Route 53과 완벽 연동            |

CloudFront는 **콘텐츠 전송 가속화 + 보안 강화**를 위한 AWS의 필수 서비스입니다! 🚀