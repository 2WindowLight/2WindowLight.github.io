---
title: <h0>Module 5-3 Lesson 3 vSphere Distributed Switches</h0>
author: cotes   
categories: [cisco virtual cloud, 2025-03-04-cisco]
tags: [Network, Cloud]















---

# Lesson 3: vSphere Distributed Switches



------

## **분산 스위치(Distributed Switch) 개요**

![image-20250304160003888](/assets/cisco_post_img/2025-03-04- Module 5-3 Lesson 3: vSphere Distributed Switches//image-20250304160003888.png)

**분산 스위치(Distributed Switch, vDS)**는 **여러 ESXi 호스트에서 단일 가상 스위치처럼 동작하는 네트워크 인프라**이다.

이는 **표준 스위치(Standard Switch, vSS)**와 비교할 때 **데이터 센터 수준의 중앙 집중식 네트워크 관리**를 제공하며, 네트워크 정책과 트래픽 제어를 보다 세밀하게 조정할 수 있다.

**1. 분산 스위치의 주요 특징**



**① 중앙 집중식 네트워크 관리**

​	•	**vCenter Server에서 모든 네트워크 구성을 관리**하며, 개별 ESXi 호스트에서 별도로 설정할 필요가 없음.

​	•	**스위치 포트가 vCenter에서 정적으로 할당되며, 네트워크 통계를 보다 세밀하게 모니터링할 수 있음.**



**② 네트워크 정책의 일관성 유지**

​	•	**모든 호스트가 동일한 네트워크 설정을 유지**하여, VM이 어느 호스트로 이동하든 **일관된 네트워크 구성이 보장**됨.

​	•	**네트워크 보안 및 QoS 정책을 전체 데이터 센터 수준에서 적용 가능**.



**③ vSphere vMotion과의 원활한 통합**

​	•	VM이 **vMotion으로 다른 호스트로 마이그레이션될 때, 기존 네트워크 상태 및 정책이 함께 이동**함.

​	•	**VM의 네트워크 정책, 통계, QoS 설정 등이 유지되므로 네트워크 장애 가능성이 줄어듦.**



**④ 표준 스위치와의 차이점**

| **구분**                    | **표준 스위치 (Standard Switch, vSS)** | **분산 스위치 (Distributed Switch, vDS)** |
| --------------------------- | -------------------------------------- | ----------------------------------------- |
| **설정 위치**               | ESXi 호스트 개별 설정                  | vCenter에서 중앙 관리                     |
| **네트워크 정책 적용 범위** | 개별 ESXi 호스트 단위                  | 데이터 센터 전체 적용                     |
| **포트 관리**               | 동적 할당(호스트별 관리)               | vCenter에서 정적 할당                     |
| **vMotion 지원**            | 네트워크 설정 유지 어려움              | VM 이동 시 네트워크 설정 유지             |
| **QoS 및 모니터링**         | 제한적                                 | 고급 정책 및 통계 제공                    |

**2. 분산 스위치의 주요 장점**



**✅ 데이터 센터 수준의 중앙 집중식 네트워크 관리**

​	•	**네트워크 설정이 모든 호스트에서 자동으로 동기화**되므로, 호스트 추가 시 개별적으로 설정할 필요 없음.

​	•	**ESXi 호스트 간 일관된 네트워크 정책을 유지**하여 관리가 용이함.



**✅ 네트워크 가시성과 제어 기능 강화**

​	•	**vSphere vMotion을 사용할 때 네트워크 정책이 VM과 함께 이동**하여, 네트워크 중단 없이 VM을 마이그레이션 가능.

​	•	**vCenter에서 네트워크 트래픽을 실시간 모니터링**하며, **정책 기반 QoS 및 보안 정책을 설정 가능**.



**✅ 고급 네트워크 기능 제공**

​	•	**NIC 팀 구성 및 로드 밸런싱 최적화**: 여러 개의 물리적 NIC을 그룹화하여 대역폭을 증가시키고 장애 발생 시 자동 페일오버 적용 가능.

​	•	**트래픽 쉐이핑(Traffic Shaping) 및 포트 미러링(Port Mirroring) 지원**: 네트워크 성능 최적화 및 트러블슈팅 용이.

**3. 결론**

​	•	**분산 스위치는 데이터 센터 규모의 네트워크를 보다 효율적으로 관리할 수 있는 강력한 기능을 제공**하며, **표준 스위치보다 일관된 정책 유지와 고급 기능 지원이 가능**하다.

​	•	**vMotion을 활용한 VM 마이그레이션 시, 네트워크 설정이 유지되므로 네트워크 문제를 최소화할 수 있다.**

​	•	**대규모 가상 환경을 운영하는 경우, 표준 스위치보다 분산 스위치를 사용하는 것이 더욱 적합하다.**

------

------

## **분산 스위치(Distributed Switch) 아키텍처**

![image-20250304160615564](/assets/cisco_post_img/2025-03-04- Module 5-3 Lesson 3: vSphere Distributed Switches//image-20250304160615564.png)

**분산 스위치(Distributed Switch, vDS)**는 **vCenter에서 관리하는 논리적 네트워크 스위치**로, **여러 ESXi 호스트에서 일관된 네트워크 구성을 유지**할 수 있도록 설계되었다.

이를 통해 **가상 네트워크를 데이터 센터 수준에서 중앙 집중식으로 관리**할 수 있다.

**1. 분산 스위치의 주요 개념**



**✅ 중앙 집중식 관리**

​	•	**vCenter에서 모든 분산 스위치를 관리**하며, **각 ESXi 호스트는 동일한 네트워크 정책을 유지**한다.

​	•	**NIC 팀 구성, 업링크 포트 그룹, 포트 정책 등을 vCenter에서 일괄적으로 설정 및 적용**할 수 있다.



**✅ 분산 스위치의 두 가지 주요 계층**

​	1.	**제어 평면(Control Plane)**

​	•	**vCenter에 위치**하며, **분산 스위치, 포트 그룹, 포트 설정 및 구성 변경을 관리**한다.

​	•	**분산 포트의 상태를 vCenter 데이터베이스에 저장**하며, 포트 마이그레이션을 조정한다.

​	•	**NIC 팀 구성, 업링크 포트 관리, vSphere vMotion 네트워크 구성 등을 담당**한다.

​	2.	**I/O 평면(I/O Plane)**

​	•	**각 ESXi 호스트에 존재하는 숨겨진 가상 스위치**로, **실제 데이터 패킷의 포워딩을 담당**한다.

​	•	**각 호스트의 VMkernel이 개별적으로 데이터 트래픽을 처리**하며, vCenter의 제어 평면이 이를 조정한다.

​	•	**vCenter에서 생성한 네트워크 구성을 적용하여, 물리적인 네트워크 인터페이스(NIC)를 통해 패킷을 전송**한다.

**2. 분산 스위치 구성 요소**



**🔹 분산 포트(Distributed Ports)**

​	•	**각 ESXi 호스트에서 사용되는 네트워크 포트의 논리적 표현**.

​	•	**VM의 가상 NIC(vNIC) 또는 VMkernel 인터페이스를 분산 포트에 연결**하여 네트워크를 구성.

​	•	**vCenter 데이터베이스에서 개별 포트의 설정을 관리**하며, VM이 vMotion으로 이동할 때 네트워크 설정을 유지.



**🔹 분산 포트 그룹(Distributed Port Group)**

​	•	**여러 개의 분산 포트를 논리적으로 그룹화**하여 **일괄적인 설정을 적용**할 수 있도록 함.

​	•	**VLAN, 보안 정책, 트래픽 쉐이핑 등의 네트워크 정책을 개별 포트가 아닌 포트 그룹 단위로 설정 가능**.

​	•	**기존 표준 스위치에서의 포트 그룹과 유사한 개념이지만, 데이터 센터 수준에서 관리 가능**.



**🔹 업링크 포트 그룹(Uplink Port Groups)**

​	•	**각 ESXi 호스트의 물리적 네트워크 인터페이스(vmnic)를 논리적으로 그룹화한 개념**.

​	•	**각 ESXi 호스트에서 하나 이상의 물리적 NIC을 분산 스위치에 연결하여 트래픽을 외부 네트워크와 연결**.

​	•	**NIC 팀 구성, 로드 밸런싱, 페일오버 정책 등을 관리**.

**3. 분산 스위치의 주요 장점**



**✅ 일관된 네트워크 정책 유지**

​	•	**모든 ESXi 호스트가 동일한 네트워크 정책을 공유**하므로, **각 개별 호스트에서 네트워크 설정을 변경할 필요 없음**.

​	•	**네트워크 보안, QoS, 트래픽 제어 설정을 데이터 센터 전체에서 적용 가능**.



**✅ vMotion과의 통합성 강화**

​	•	**VM이 다른 호스트로 이동할 때 네트워크 정책, 포트 설정, 트래픽 통계 등이 함께 이동**하여 네트워크 중단을 방지.

​	•	**기존 표준 스위치(vSS)에서는 네트워크 설정을 새로 적용해야 했지만, 분산 스위치에서는 자동으로 설정이 유지됨**.



**✅ 고급 네트워크 기능 제공**

​	•	**NIC 팀 구성 및 로드 밸런싱 지원**: 여러 개의 물리적 NIC을 묶어 **대역폭을 증가**시키고, 장애 발생 시 자동으로 페일오버 적용.

​	•	**트래픽 쉐이핑 및 포트 미러링 지원**: 네트워크 트래픽을 제한하거나 특정 트래픽을 캡처하여 분석 가능.

​	•	**링크 집계(Link Aggregation) 지원**: 802.3ad LACP(Link Aggregation Control Protocol)를 활용하여 물리적 네트워크 대역폭을 효율적으로 사용.

**4. 결론**

​	•	**분산 스위치는 데이터 센터 규모의 네트워크를 효율적으로 관리할 수 있도록 설계된 가상 네트워크 인프라**이다.

​	•	**표준 스위치보다 일관된 정책 유지, vMotion과의 통합, 고급 네트워크 기능 지원이 가능**하여 대규모 가상화 환경에서 필수적이다.

​	•	**NIC 팀 구성, VLAN 정책 적용, 트래픽 제어 기능 등을 중앙에서 설정할 수 있어 관리가 용이하고, 네트워크 장애 발생 시 빠르게 대응할 수 있다.**

------

## Viewing Distributed Switches

![image-20250304161258346](/assets/cisco_post_img/2025-03-04- Module 5-3 Lesson 3: vSphere Distributed Switches//image-20250304161258346.png)