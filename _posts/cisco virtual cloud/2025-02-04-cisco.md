---
title: <h0>2/04 cisco virtal cloud</h0>
author: cotes   
categories: [cisco virtual cloud]
tags: [Network]





---

# Module 8: SLAAC and DHCPv6



## IPv6 Hosy Configuration

ë¨¼ì €, **SLAAC(Stateless Address Autoconfiguration)** ë˜ëŠ” **DHCPv6**ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ **IPv6 ê¸€ë¡œë²Œ ìœ ë‹ˆìºìŠ¤íŠ¸ ì£¼ì†Œ(GUA)**ì™€ **ë§í¬ ë¡œì»¬ ì£¼ì†Œ(LLA)**ì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.

â€¢	**ë¼ìš°í„°ì—ì„œ GUA ì„¤ì •:**

ë¼ìš°í„°ì—ì„œëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ GUAë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
ipv6 address <IPv6-ì£¼ì†Œ>/<í”„ë¦¬í”½ìŠ¤ ê¸¸ì´>
```

â€¢	**Windowsì—ì„œ GUA ì„¤ì •:**

Windows PCì—ì„œë„ ìˆ˜ë™ìœ¼ë¡œ IPv6 GUAë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

------

## 8.1.2 IPv6 Host Link-Local Address

Link-Local: ë¡œì»¬ì—ì„œë§Œ ì˜ë¯¸ë¥¼ ê°–ìŒ



**ìë™ IPv6 ì£¼ì†Œ í• ë‹¹:**

â€‹	â€¢	í˜¸ìŠ¤íŠ¸(PC ë“±)ê°€ ìë™ìœ¼ë¡œ IPv6 ì£¼ì†Œë¥¼ ë°›ìœ¼ë ¤ í•˜ë©´, **ICMPv6 ë¼ìš°í„° ì•Œë¦¼(RA) ë©”ì‹œì§€**ë¥¼ í†µí•´ ì„¸ ê°€ì§€ ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ ì£¼ì†Œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

â€‹	â€¢	ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” IPv6 ë¼ìš°í„°ê°€ RA ë©”ì‹œì§€ë¥¼ ë³´ë‚´ í˜¸ìŠ¤íŠ¸ê°€ IPv6 ì£¼ì†Œë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

**ë§í¬ ë¡œì»¬ ì£¼ì†Œ(LLA):**

â€‹	â€¢	ëª¨ë“  IPv6 í˜¸ìŠ¤íŠ¸ëŠ” ë¶€íŒ… ì‹œ ìë™ìœ¼ë¡œ **ë§í¬ ë¡œì»¬ ì£¼ì†Œ(LLA)**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

â€‹	â€¢	ipconfig ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±ëœ LLAë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**IPv6 ê¸€ë¡œë²Œ ìœ ë‹ˆìºìŠ¤íŠ¸ ì£¼ì†Œ(GUA) ì—†ìŒ:**

â€‹	â€¢	ìœ„ ê·¸ë¦¼ì—ì„œ GUAê°€ ì—†ëŠ” ì´ìœ ëŠ”, í•´ë‹¹ ë„¤íŠ¸ì›Œí¬ì— **IPv6 ë¼ìš°í„°ê°€ ì—†ê±°ë‚˜**, í˜¸ìŠ¤íŠ¸ê°€ **ìˆ˜ë™ìœ¼ë¡œ IPv6 ì£¼ì†Œë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤.

**ì¶”ê°€ ì •ë³´:**

â€‹	â€¢	ì¼ë¶€ ìš´ì˜ ì²´ì œ(OS)ì—ì„œëŠ” LLA ì£¼ì†Œ ëì— %ì™€ ìˆ«ìê°€ ë¶™ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€‹	â€¢	ì´ê²ƒì„ **Zone ID(ë˜ëŠ” Scope ID)**ë¼ê³  í•˜ë©°, íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ì™€ LLAë¥¼ ì—°ê²°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

```bash
C:\PC1> ipconfig
Windows IP Configuration
Ethernet adapter Ethernet0:
   Connection-specific DNS Suffix  . :
   IPv6 Address. . . . . . . . . . . :
   Link-local IPv6 Address . . . . . : fe80::fb:1d54:839f:f595%21
   IPv4 Address. . . . . . . . . . . : 169.254.202.140
   Subnet Mask . . . . . . . . . . . : 255.255.0.0
   Default Gateway . . . . . . . . . :
C:\PC1>
```

------

## 8.1.3 IPv6 GUA Assignment

![image-20250204095744764](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204095744764.png)

**ë™ì  GUA í• ë‹¹ ë°©ì‹ (Dynamic GUA Assignment)**

IPv6ì˜ ê¸€ë¡œë²Œ ìœ ë‹ˆìºìŠ¤íŠ¸ ì£¼ì†Œ(GUA)ë¥¼ ë™ì ìœ¼ë¡œ í• ë‹¹í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ **Stateless(ë¹„ìƒíƒœ) ë°©ì‹**ê³¼ **Stateful(ìƒíƒœ ì €ì¥) ë°©ì‹**ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.



**1. Stateless (ë¹„ìƒíƒœ) ë°©ì‹**

**- ì¥ë¹„ê°€ IPv6 ì£¼ì†Œ í• ë‹¹ì„ ì¶”ì í•˜ì§€ ì•ŠìŒ (No device is tracking assigned IPv6 addresses)**

**â‘  SLAAC Only (SLAACë§Œ ì‚¬ìš©)**

â€‹	â€¢	ë¼ìš°í„°ê°€ **Router Advertisement (RA) ë©”ì‹œì§€**ë¥¼ ë³´ë‚´ IPv6 ë„¤íŠ¸ì›Œí¬ í”„ë¦¬í”½ìŠ¤, í”„ë¦¬í”½ìŠ¤ ê¸¸ì´, ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ì •ë³´ë¥¼ ì œê³µí•¨.

â€‹	â€¢	í˜¸ìŠ¤íŠ¸ëŠ” RA ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìì‹ ë§Œì˜ GUA(ê¸€ë¡œë²Œ ìœ ë‹ˆìºìŠ¤íŠ¸ ì£¼ì†Œ)ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±**í•˜ì—¬ ì‚¬ìš©í•¨.

â€‹	â€¢	DHCP ì„œë²„ ì—†ì´ **ë¼ìš°í„°ê°€ ì§ì ‘** ì£¼ì†Œë¥¼ ì œê³µí•˜ëŠ” ë°©ì‹.

**â‘¡ SLAAC with DHCP Server (Stateless DHCPv6)**

â€‹	â€¢	ë¼ìš°í„°ê°€ RA ë©”ì‹œì§€ë¥¼ í†µí•´ **IPv6 ê¸°ë³¸ ì„¤ì • ì •ë³´ë¥¼ ì œê³µ**í•˜ê³ , ì¶”ê°€ ì„¤ì •ì„ ìœ„í•´ **DHCPv6 ì„œë²„ì— ì ‘ì†í•˜ë„ë¡ ì•ˆë‚´**í•¨.

â€‹	â€¢	í˜¸ìŠ¤íŠ¸ëŠ” RA ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ GUAë¥¼ ìƒì„±í•˜ë˜, **ì¶”ê°€ì ì¸ ì •ë³´(DNS ë“±)ë¥¼ DHCPv6 ì„œë²„ì—ì„œ ê°€ì ¸ì˜´**.

â€‹	â€¢	**DHCPv6 ì„œë²„ê°€ IP ì£¼ì†Œë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•ŠìŒ**(ì¦‰, ì£¼ì†Œ í• ë‹¹ì„ í•˜ì§€ ì•Šê³  ë³´ì¡° ì •ë³´ë§Œ ì œê³µ).

![image-20250204100233627](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204100233627.png)

â€‹	â€¢	**SLAAC Only:** ë¼ìš°í„°ë§Œ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ IPv6 ì£¼ì†Œ ì„¤ì •.

â€‹	â€¢	**SLAAC + Stateless DHCPv6:** ì£¼ì†ŒëŠ” SLAACë¡œ ì„¤ì •í•˜ê³ , ì¶”ê°€ ì •ë³´ëŠ” DHCPv6 ì„œë²„ì—ì„œ ê°€ì ¸ì˜´.

â€‹	â€¢	**Stateful DHCPv6:** ëª¨ë“  IPv6 ì£¼ì†Œ ë° ì„¤ì •ì„ DHCPv6 ì„œë²„ì—ì„œ ê´€ë¦¬.



------

## SLAAC ê³¼ RS , RA

**SLAACì—ì„œ RSì™€ RAì˜ ì—­í• **



SLAAC(Stateless Address Autoconfiguration)ëŠ” **ë¼ìš°í„°ë¥¼ í†µí•´ IPv6 ì£¼ì†Œë¥¼ ìë™ ì„¤ì •í•˜ëŠ” ë°©ì‹**ì…ë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ **RS(Router Solicitation)ì™€ RA(Router Advertisement)** ë©”ì‹œì§€ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.

### **RS (Router Solicitation, ë¼ìš°í„° ìš”ì²­ ë©”ì‹œì§€)**

â€‹	â€¢	í˜¸ìŠ¤íŠ¸(PC, ì„œë²„ ë“±)ê°€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ë©´ **â€œIPv6 ì£¼ì†Œë¥¼ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼ í•˜ë‚˜ìš”?â€** ë¼ëŠ” ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.

â€‹	â€¢	ì´ë¥¼ **ë©€í‹°ìºìŠ¤íŠ¸(FF02::2)ë¡œ ë„¤íŠ¸ì›Œí¬ ë‚´ ëª¨ë“  ë¼ìš°í„°ì— ì „ì†¡**í•©ë‹ˆë‹¤.

### **RA (Router Advertisement, ë¼ìš°í„° ì•Œë¦¼ ë©”ì‹œì§€)**

â€‹	â€¢	ë¼ìš°í„°ëŠ” RS ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ **IPv6 ì£¼ì†Œ ì„¤ì • ì •ë³´(ë„¤íŠ¸ì›Œí¬ í”„ë¦¬í”½ìŠ¤, ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ë“±)**ë¥¼ í¬í•¨í•œ **RA ë©”ì‹œì§€ë¥¼ ë©€í‹°ìºìŠ¤íŠ¸(FF02::1)ë¡œ ì „ì†¡**í•©ë‹ˆë‹¤.

â€‹	â€¢	í˜¸ìŠ¤íŠ¸ëŠ” ì´ ì •ë³´ë¥¼ ì´ìš©í•´ **ìì‹ ë§Œì˜ IPv6 ì£¼ì†Œ(GUA)ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±**í•©ë‹ˆë‹¤.



ğŸ“Œ **ì •ë¦¬:**

â€‹	â€¢	**RS:** í˜¸ìŠ¤íŠ¸ â†’ ë¼ìš°í„° (IPv6 ì„¤ì • ì •ë³´ ìš”ì²­)

â€‹	â€¢	**RA:** ë¼ìš°í„° â†’ í˜¸ìŠ¤íŠ¸ (IPv6 ì„¤ì • ì •ë³´ ì œê³µ)

â€‹	â€¢	í˜¸ìŠ¤íŠ¸ëŠ” RA ì •ë³´ë¥¼ ì´ìš©í•´ **IPv6 ì£¼ì†Œë¥¼ ìë™ ì„¤ì •** (SLAAC ë°©ì‹).

------

## 8.1.4 Three RA Message Flags

![image-20250204100614257](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204100614257.png)

### **RS (Router Solicitation) ìš”ì²­**

â€‹	â€¢	PC1(í´ë¼ì´ì–¸íŠ¸)ì´ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ë©´, â€œR1 ë¼ìš°í„°ì—ê²Œ RA ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì£¼ì„¸ìš”â€ë¼ê³  ìš”ì²­(RS ë©”ì‹œì§€ ì „ì†¡).

â€‹	â€¢	ì´ ìš”ì²­ì€ ë©€í‹°ìºìŠ¤íŠ¸(FF02::2)ë¡œ ë¼ìš°í„°ì— ì „ë‹¬ë¨.

### **R1ì´ RA (Router Advertisement) ë©”ì‹œì§€ ì‘ë‹µ**

â€‹	â€¢	R1(ë¼ìš°í„°)ì€ RS ìš”ì²­ì„ ë°›ì€ í›„, RA ë©”ì‹œì§€ë¥¼ ë³´ë‚´ IPv6 ì£¼ì†Œ í• ë‹¹ ë°©ë²•ì„ í´ë¼ì´ì–¸íŠ¸ì— ì•ˆë‚´í•¨.

â€‹	â€¢	ì´ë•Œ, **A, O, M í”Œë˜ê·¸ ê°’**ì— ë”°ë¼ í´ë¼ì´ì–¸íŠ¸ê°€ IPv6 ì£¼ì†Œë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì´ ê²°ì •ë¨.

![image-20250204100819218](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204100819218.png)

------

**ê° í”Œë˜ê·¸ì˜ ì˜ë¯¸**

**A í”Œë˜ê·¸ (Autonomous Configuration, ììœ¨ êµ¬ì„±)**

â€‹	â€¢	1: í´ë¼ì´ì–¸íŠ¸ê°€ RA ì •ë³´ë§Œ ì‚¬ìš©í•˜ì—¬ IPv6 ì£¼ì†Œ ìë™ ìƒì„± (SLAAC).

â€‹	â€¢	0: í´ë¼ì´ì–¸íŠ¸ê°€ SLAACë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  DHCPv6 ì„œë²„ì— ì˜ì¡´í•¨.

**O í”Œë˜ê·¸ (Other Configuration, ì¶”ê°€ ì„¤ì •)**

â€‹	â€¢	1: í´ë¼ì´ì–¸íŠ¸ê°€ DHCPv6 ì„œë²„ì—ì„œ ì¶”ê°€ ì„¤ì •(DNS ì •ë³´ ë“±)ì„ ê°€ì ¸ì˜´.

â€‹	â€¢	0: DHCPv6 ì„œë²„ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë¼ìš°í„°(RA) ì •ë³´ë§Œ ì‚¬ìš©.

**M í”Œë˜ê·¸ (Managed Configuration, ì „ì²´ DHCPv6 ê´€ë¦¬)**

â€‹	â€¢	1: í´ë¼ì´ì–¸íŠ¸ê°€ DHCPv6 ì„œë²„ì—ì„œ ëª¨ë“  IPv6 ì£¼ì†Œ ë° ì„¤ì •ì„ ë°›ì•„ì•¼ í•¨.

â€‹	â€¢	0: í´ë¼ì´ì–¸íŠ¸ê°€ SLAAC ë˜ëŠ” Stateless DHCPv6ë¥¼ ì‚¬ìš© ê°€ëŠ¥.

------

## 8.2.2 Enabling SLAAC

![image-20250204101354019](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204101354019.png)

```
R1# show ipv6 interface G0/0/1 | section Joined
  Joined group address(es):
    FF02::1 // ëª¨ë“  í˜¸ìŠ¤íŠ¸
    FF02::2	// ëª¨ë“  ë¼ìš°í„°
    FF02::1:FF00:1
R1#
```





------

## 8.2.5 Host Process to Generate Interface ID

Pv6ì—ì„œ **SLAAC(Stateless Address Autoconfiguration)**ì„ ì‚¬ìš©í•˜ë©´, **í˜¸ìŠ¤íŠ¸(PC ë“±)ëŠ” ë¼ìš°í„°ì˜ RA ë©”ì‹œì§€ì—ì„œ 64ë¹„íŠ¸ ì„œë¸Œë„· ì •ë³´ë¥¼ ë°›ìŠµë‹ˆë‹¤**. ê·¸ëŸ¬ë‚˜ ë‚¨ì€ **64ë¹„íŠ¸ ì¸í„°í˜ì´ìŠ¤ ID**ëŠ” ìŠ¤ìŠ¤ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.



âœ… **ì¸í„°í˜ì´ìŠ¤ ID ìƒì„± ë°©ë²• (ë‘ ê°€ì§€ ë°©ì‹)**

1. **ëœë¤ ë°©ì‹ (Randomly Generated)**

â€‹	â€¢	ìš´ì˜ ì²´ì œì—ì„œ **ë¬´ì‘ìœ„ë¡œ 64ë¹„íŠ¸ ì¸í„°í˜ì´ìŠ¤ IDë¥¼ ìƒì„±**í•©ë‹ˆë‹¤.

â€‹	â€¢	Windows 10ì„ í¬í•¨í•œ ìµœì‹  ìš´ì˜ ì²´ì œì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

2. **EUI-64 ë°©ì‹**

â€‹	â€¢	í˜¸ìŠ¤íŠ¸ì˜ **48ë¹„íŠ¸ MAC ì£¼ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ IDë¥¼ ìƒì„±**í•©ë‹ˆë‹¤.

â€‹	â€¢	MAC ì£¼ì†Œ ì¤‘ê°„ì— **FFFE ê°’ì„ ì‚½ì…í•˜ê³ , 7ë²ˆì§¸ ë¹„íŠ¸ë¥¼ ë°˜ì „(í”Œë¦½)**í•˜ì—¬ ìµœì¢… IDë¥¼ ë§Œë“­ë‹ˆë‹¤.

â€‹	â€¢	ì¼ë¶€ ìš´ì˜ ì²´ì œëŠ” **ê°œì¸ ì •ë³´ ë³´í˜¸ ë¬¸ì œ**ë¡œ ì¸í•´ ê¸°ë³¸ì ìœ¼ë¡œ ëœë¤ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©°, EUI-64 ë°©ì‹ì€ ì„ íƒì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ğŸ“Œ **ì¶”ê°€ ì •ë³´**

â€‹	â€¢	**Windows, Linux, MacOS**ì—ì„œëŠ” ì„¤ì •ì„ ë³€ê²½í•˜ì—¬ **ëœë¤ ë°©ì‹ ë˜ëŠ” EUI-64 ë°©ì‹ì„ ì„ íƒí•  ìˆ˜ ìˆìŒ**.

â€‹	â€¢	ipconfig ì¶œë ¥ì—ì„œ Windows 10 PCê°€ **RAë¥¼ í†µí•´ ì„œë¸Œë„·ì„ ë°›ê³ , ì¸í„°í˜ì´ìŠ¤ IDë¥¼ ëœë¤ìœ¼ë¡œ ìƒì„±**í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.

```
 IPv6 Address. . . . . . . . . . . : 2001:db8:acad:1:1de9:c69:73ee:ca8c
 
 1de9:c69:73ee:ca8c
```



------

## 8.2.6 Duplicate Address Detection

### Duplicate Address Detection (DAD) -ì¤‘ë³µë˜ì§€ ì•Šê²Œ í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜

* ip ì„¸íŒ… í• ë•Œ ê·¸ ip ë¥¼ ëª©ì  ê¸°ì¤€ìœ¼ë¡œ ë³´ë‚¼ ëŒ€ìƒì´ ìˆëŠ”ì§€ íŒŒì•…

1.  **ip ë¥¼ í• ë‹¹í•  ë•Œ ARP ìš”ì²­**
2.  **source ip ëŠ” í• ë‹¹ ë°›ì€ ip  [GARP] ëª©ì ì§€ ì£¼ì†Œë„ í• ë‹¹ ë°›ì€ ì£¼ì†Œë¡œ ë¸Œë¡œë“œ ìºìŠ¤íŠ¸ í˜•íƒœë¡œ ë³´ëƒ„**
3.  **ë™ì¼í•œ ipë¥¼ ê°ì**



â€¢	**IETF(ì¸í„°ë„· ì—”ì§€ë‹ˆì–´ë§ íƒœìŠ¤í¬ í¬ìŠ¤)**ëŠ” **ëª¨ë“  IPv6 ìœ ë‹ˆìºìŠ¤íŠ¸ ì£¼ì†Œ**ì—ì„œ **DAD(Duplicate Address Detection, ì¤‘ë³µ ì£¼ì†Œ ê°ì§€)** ì‚¬ìš©ì„ ê¶Œì¥í•¨.

â†’ **ì£¼ì†Œê°€ SLAAC, Stateful DHCPv6, ìˆ˜ë™ ì„¤ì • ì¤‘ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ìƒì„±ë˜ì—ˆë“  ìƒê´€ì—†ì´ ì ìš© ê°€ëŠ¥.**

â€¢	**DADëŠ” í•„ìˆ˜ ì‚¬í•­ì´ ì•„ë‹˜**

â†’ IPv6ì˜ 64ë¹„íŠ¸ ì¸í„°í˜ì´ìŠ¤ IDëŠ” **ì•½ 18ê²½(18 quintillion)** ê°œì˜ ì¡°í•©ì´ ê°€ëŠ¥í•´ **ì¤‘ë³µë  í™•ë¥ ì´ ë§¤ìš° ë‚®ìŒ**.

â€¢	**í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ìš´ì˜ ì²´ì œëŠ” DADë¥¼ ìë™ìœ¼ë¡œ ìˆ˜í–‰**

â†’ IPv6 ì£¼ì†Œê°€ ì„¤ì •ë  ë•Œ, ë„¤íŠ¸ì›Œí¬ì—ì„œ **ì¤‘ë³µëœ ì£¼ì†Œê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê³¼ì •**ì„ ê±°ì¹¨.

------

## 8.3.1 DHCPv6 Operation Steps

**Stateless vs. Stateful DHCPv6**

â€‹	**Stateless DHCPv6**: SLAACê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ê°€ í•„ìš”í•œ ì¶”ê°€ ì •ë³´ë¥¼ ì–»ë„ë¡ í•¨.

â€‹	**Stateful DHCPv6**: SLAAC ì—†ì´ DHCPv6 ì„œë²„ê°€ IPv6 ì£¼ì†Œ ë° ì„¤ì •ì„ ì§ì ‘ í• ë‹¹.

**DHCPv6ì™€ DHCPv4ì˜ ê´€ê³„**

â€‹	â€¢	ê¸°ëŠ¥ì€ ìœ ì‚¬í•˜ì§€ë§Œ, **ì„œë¡œ ë…ë¦½ì ì¸ í”„ë¡œí† ì½œ**ì„.

â€‹	â€¢	DHCPv6ì€ **RFC 3315**ì— ì •ì˜ë¨.

**DHCPv6 í†µì‹  ê³¼ì •**

â€‹	â€¢	DHCPv6ëŠ” **RA ë©”ì‹œì§€ì—ì„œ Stateless ë˜ëŠ” Statefulì´ ì§€ì •ëœ í›„** ì‘ë™ ì‹œì‘.

â€‹	â€¢	ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸ ë©”ì‹œì§€ëŠ” **UDP í¬íŠ¸ 546** ì‚¬ìš©.

â€‹	â€¢	í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„ ë©”ì‹œì§€ëŠ” **UDP í¬íŠ¸ 547** ì‚¬ìš©.



**DHCPv6 ì£¼ì†Œ í• ë‹¹ ê³¼ì •**

â€‹	1.	**í˜¸ìŠ¤íŠ¸ â†’ ë¼ìš°í„°**: RS(Router Solicitation) ë©”ì‹œì§€ ì „ì†¡.

â€‹	2.	**ë¼ìš°í„° â†’ í˜¸ìŠ¤íŠ¸**: RA(Router Advertisement) ë©”ì‹œì§€ ì‘ë‹µ.

â€‹	3.	**í˜¸ìŠ¤íŠ¸ â†’ DHCPv6 ì„œë²„**: SOLICIT ë©”ì‹œì§€ ì „ì†¡ (ì£¼ì†Œ ìš”ì²­). SOLICIT(ì„œë²„ë¥¼ íƒìƒ‰)

â€‹	4.	**DHCPv6 ì„œë²„ â†’ í˜¸ìŠ¤íŠ¸**: ADVERTISE ë©”ì‹œì§€ ì‘ë‹µ (ì£¼ì†Œ ì œê³µ ê°€ëŠ¥ ì•Œë¦¼).

â€‹	5.	**í˜¸ìŠ¤íŠ¸ â†’ DHCPv6 ì„œë²„**: REQUEST ë˜ëŠ” CONFIRM ë©”ì‹œì§€ ì „ì†¡.

â€‹	6.	**DHCPv6 ì„œë²„ â†’ í˜¸ìŠ¤íŠ¸**: REPLY ë©”ì‹œì§€ ì „ì†¡ (ì£¼ì†Œ ë° ì„¤ì • ì œê³µ). - 128 ë¹„íŠ¸ ì™„ì„±



ğŸ“Œ **í•µì‹¬ ìš”ì•½**

â€‹	â€¢	DHCPv6ëŠ” **Stateless(SLAAC ë³´ì™„)ì™€ Stateful(ì „ì²´ ì£¼ì†Œ ê´€ë¦¬)** ë°©ì‹ì´ ìˆìŒ.

â€‹	â€¢	**RA ë©”ì‹œì§€ì— ë”°ë¼ DHCPv6 ë°©ì‹ì´ ê²°ì •ë¨**.

â€‹	â€¢	**UDP í¬íŠ¸ 546(ì„œë²„â†’í´ë¼ì´ì–¸íŠ¸), 547(í´ë¼ì´ì–¸íŠ¸â†’ì„œë²„) ì‚¬ìš©**.

â€‹	â€¢	**RS-RA-DHCP ìš”ì²­/ì‘ë‹µ ê³¼ì •ì„ ê±°ì³ IPv6 ì£¼ì†Œê°€ í• ë‹¹ë¨**.

------

## 8.3.2 Stateless DHCPv6 Operation

![image-20250204103228242](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204103228242.png)

1ï¸âƒ£ **PC1ì€ Stateless DHCPv6 ë°©ì‹ì˜ RA ë©”ì‹œì§€ë¥¼ ë°›ìŒ**

â€‹	â€¢	**ë„¤íŠ¸ì›Œí¬ í”„ë¦¬í”½ìŠ¤ ë° í”„ë¦¬í”½ìŠ¤ ê¸¸ì´ í¬í•¨** (ex. 2001:db8:acad:1::/64).

â€‹	â€¢	**M í”Œë˜ê·¸(Managed) = 0** â†’ **Stateful DHCPv6 ì‚¬ìš© ì•ˆ í•¨**.

â€‹	â€¢	**A í”Œë˜ê·¸(Autonomous) = 1** â†’ **SLAAC ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œ ìë™ ìƒì„±**.

â€‹	â€¢	**O í”Œë˜ê·¸(Other) = 1** â†’ **ì¶”ê°€ ì •ë³´(DNS ë“±)ë¥¼ Stateless DHCPv6 ì„œë²„ì—ì„œ ë°›ìŒ**.



2ï¸âƒ£ **PC1ì€ ì¶”ê°€ ì •ë³´ë¥¼ ìš”ì²­í•˜ê¸° ìœ„í•´ DHCPv6 SOLICIT ë©”ì‹œì§€ë¥¼ ì „ì†¡**

â€‹	â€¢	**ì£¼ì†ŒëŠ” SLAACë¡œ ìƒì„±í–ˆì§€ë§Œ, DNS ì„œë²„ ì£¼ì†Œ ë“± ì¶”ê°€ ì •ë³´ê°€ í•„ìš”**í•˜ì—¬ DHCPv6 ì„œë²„ë¥¼ ì°¾ìŒ.

â€‹	â€¢	**Stateless DHCPv6 ì„œë²„ì—ì„œ ì¶”ê°€ ì„¤ì • ì •ë³´ë¥¼ ë°›ì•„ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì™„ë£Œ**.



ğŸ“Œ **ìš”ì•½:**

â€‹	â€¢	**PC1ì€ SLAACë¡œ IPv6 ì£¼ì†Œë¥¼ ìë™ ìƒì„±í•˜ê³ , Stateless DHCPv6 ì„œë²„ì—ì„œ DNS ì •ë³´ ë“±ì„ ê°€ì ¸ì˜´.**

â€‹	â€¢	**Stateful DHCPv6ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (M=0).**

â€‹	â€¢	**RA ë©”ì‹œì§€ê°€ SLAAC ë° ì¶”ê°€ ì •ë³´ ìš”ì²­ì„ ì•ˆë‚´í•¨ (A=1, O=1).**

------

## 8.3.3 Enable Stateless DHCPv6 on an Interface

```bash
R1(config-if)# ipv6 nd other-config-flag
R1(config-if)# end
R1#
R1# show ipv6 interface g0/0/1 | begin ND
  ND DAD is enabled, number of DAD attempts: 1
  ND reachable time is 30000 milliseconds (using 30000)
  ND advertised reachable time is 0 (unspecified)
  ND advertised retransmit interval is 0 (unspecified)
  ND router advertisements are sent every 200 seconds
  ND router advertisements live for 1800 seconds
  ND advertised default router preference is Medium
  Hosts use stateless autoconfig for addresses.
  Hosts use DHCP to obtain other configuration.
R1#

```



------

## 8.3.5 Enable Stateful DHCPv6 on an Interface

```bash
R1(config)# int g0/0/1
R1(config-if)# ipv6 nd managed-config-flag
R1(config-if)# ipv6 nd prefix default no-autoconfig
R1(config-if)# end
R1#
R1# show ipv6 interface g0/0/1 | begin ND
  ND DAD is enabled, number of DAD attempts: 1
  ND reachable time is 30000 milliseconds (using 30000)
  ND advertised reachable time is 0 (unspecified)
  ND advertised retransmit interval is 0 (unspecified)
  ND router advertisements are sent every 200 seconds
  ND router advertisements live for 1800 seconds
  ND advertised default router preference is Medium
  Hosts use DHCP to obtain routable addresses.
R1#
```



------

## 8.4.7 Configure a DHCPv6 Relay Agent



![image-20250204112509476](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204112509476.png)

**ğŸ“Œ DHCPv6 ë¦´ë ˆì´ ì—ì´ì „íŠ¸ ìš”ì•½**

â€‹	â€¢	**DHCPv6 ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì™€ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ì— ìˆì„ ê²½ìš°**, ì¤‘ê°„ì— ìˆëŠ” **ë¼ìš°í„°ë¥¼ DHCPv6 ë¦´ë ˆì´ ì—ì´ì „íŠ¸ë¡œ ì„¤ì •**í•´ì•¼ í•¨.

â€‹	â€¢	**IPv4ì˜ DHCP ë¦´ë ˆì´(Helper Address)ì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ êµ¬ì„±**.



**âœ… ê·¸ë¦¼ ì„¤ëª…**

â€‹	â€¢	**PC1 (DHCPv6 í´ë¼ì´ì–¸íŠ¸)** â†’ 2001:db8:acad:2::/64 ë„¤íŠ¸ì›Œí¬ì— ìˆìœ¼ë©°, **Stateful DHCPv6ì„ í†µí•´ IPv6 ì£¼ì†Œë¥¼ ë°›ì•„ì•¼ í•¨**.

â€‹	â€¢	**R3 (Stateful DHCPv6 ì„œë²„)** â†’ 2001:db8:acad:1::/64 ë„¤íŠ¸ì›Œí¬ì—ì„œ **IPv6 ì£¼ì†Œ ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ì œê³µ**.

â€‹	â€¢	**R1 (DHCPv6 ë¦´ë ˆì´ ì—ì´ì „íŠ¸)** â†’ **PC1ì˜ DHCPv6 ìš”ì²­ì„ ë°›ì•„ R3(Stateful DHCPv6 ì„œë²„)ë¡œ ì „ë‹¬í•˜ëŠ” ì—­í• ** ìˆ˜í–‰.



âœ… **ì¦‰, R1ì„ DHCPv6 ë¦´ë ˆì´ ì—ì´ì „íŠ¸ë¡œ ì„¤ì •í•˜ì—¬, PC1ì˜ DHCPv6 ìš”ì²­ì´ R3ê¹Œì§€ ë„ë‹¬í•˜ë„ë¡ í•´ì•¼ í•¨.**



------



## 9.1.1 Default Gateway Limitations

![image-20250204112947899](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204112947899.png)

â€‹	â€¢	**ë¼ìš°í„°(R1) ë˜ëŠ” ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ì—­í• ì„ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ì‹¤íŒ¨í•˜ë©´**, í•´ë‹¹ ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” í˜¸ìŠ¤íŠ¸ë“¤ì€ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì™€ ë‹¨ì ˆë¨.

â€‹	â€¢	**ìŠ¤ìœ„ì¹˜ ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” í•œ ê°œì˜ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ë§Œ ì„¤ì • ê°€ëŠ¥** â†’ ë°±ì—… ê²Œì´íŠ¸ì›¨ì´ê°€ ìˆì–´ë„ ìë™ ì „í™˜ì´ ë¶ˆê°€ëŠ¥.

â€‹	â€¢	ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì²« ë²ˆì§¸ í™‰ ì´ì¤‘í™” í”„ë¡œí† ì½œ(FHRP, First Hop Redundancy Protocol)** ì‚¬ìš© í•„ìš”.





â€‹	â€¢	**PC1ì€ R1ì„ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ë¡œ ì‚¬ìš©**.

â€‹	â€¢	**R1ì´ ë‹¤ìš´ë˜ë©´, R2ê°€ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì„ ëŒ€ì‹  ì²˜ë¦¬**í•˜ì§€ë§Œ,

â€‹	â€¢	**PC1ê³¼ ê°™ì€ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ëŠ” ì—¬ì „íˆ R1ì„ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ë¡œ ì¸ì‹**í•˜ì—¬ íŠ¸ë˜í”½ì„ ì „ì†¡.

â€‹	â€¢	ê²°ê³¼ì ìœ¼ë¡œ **íŠ¸ë˜í”½ì´ R1ì—ì„œ ì°¨ë‹¨(drop)**ë¨.



ğŸ“Œ **ì¦‰, R2ê°€ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ìœ ì§€í•  ìˆ˜ ìˆì–´ë„, ë‚´ë¶€ ì¥ì¹˜ëŠ” ì—¬ì „íˆ R1ì„ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ì¥ì• ê°€ ë°œìƒí•¨. ì´ë¥¼ ë°©ì§€í•˜ë ¤ë©´ FHRP(ì˜ˆ: HSRP, VRRP, GLBP)ë¥¼ ì„¤ì •í•´ì•¼ í•¨.**



------

## 9.1.2 Router Redundancy

![image-20250204113349256](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204113349256.png)

ê·¸ë¦¼ ìˆ˜ì • -> (fowarding router - Standly router) í™‰ìœ¼ë¡œ  ê°€ìƒì˜ ë¼ìš°í„°ê°€ ìƒê¸°ê²Œ ë˜ëŠ” ê²ƒ

**ğŸ“Œ ì²« ë²ˆì§¸ í™‰ ì´ì¤‘í™”(FHRP) ë° ê°€ìƒ ë¼ìš°í„° ìš”ì•½**

â€‹	â€¢	**ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ì¥ì• ë¥¼ ë°©ì§€í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” ê°€ìƒ ë¼ìš°í„°(Virtual Router) êµ¬í˜„**.

â€‹	â€¢	**ì—¬ëŸ¬ ê°œì˜ ì‹¤ì œ ë¼ìš°í„°ê°€ í˜‘ë ¥í•˜ì—¬ í•˜ë‚˜ì˜ ê°€ìƒ ë¼ìš°í„°ì²˜ëŸ¼ ë™ì‘**í•˜ì—¬ **ë‹¨ì¼ ì¥ì• ì (SPOF)ì„ ì œê±°**.

â€‹	â€¢	**ê°€ìƒ ë¼ìš°í„°ëŠ” ê³µìœ ëœ IP ì£¼ì†Œ ë° MAC ì£¼ì†Œë¥¼ ì‚¬ìš©** â†’ LANì˜ ëª¨ë“  í˜¸ìŠ¤íŠ¸ëŠ” ì´ ê°€ìƒ ë¼ìš°í„°ë¥¼ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ë¡œ ì„¤ì •.

**âœ… ë™ì‘ ë°©ì‹**

â€‹	1.	**í˜¸ìŠ¤íŠ¸ê°€ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ì˜ IPv4 ì£¼ì†Œë¡œ ARP ìš”ì²­ì„ ë³´ëƒ„**.

â€‹	2.	**ê°€ìƒ ë¼ìš°í„°ì˜ MAC ì£¼ì†Œë¥¼ ë°˜í™˜**í•˜ì—¬ í•´ë‹¹ MAC ì£¼ì†Œë¡œ íŠ¸ë˜í”½ì„ ì „ì†¡.

â€‹	3.	**í˜„ì¬ í™œì„±(active) ìƒíƒœì˜ ì‹¤ì œ ë¼ìš°í„°ê°€ íŠ¸ë˜í”½ì„ ì²˜ë¦¬**.

â€‹	4.	**ë°±ì—…(standby) ë¼ìš°í„°ëŠ” í™œì„± ë¼ìš°í„°ê°€ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì—­í• ì„ êµì²´**.

â€‹	5.	**í˜¸ìŠ¤íŠ¸ëŠ” ì´ ë³€ê²½ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ë©°, íŠ¸ë˜í”½ì´ ê³„ì† ì›í™œí•˜ê²Œ ì „ë‹¬ë¨**.

**ğŸ“Œ ì²« ë²ˆì§¸ í™‰ ì´ì¤‘í™”(First-Hop Redundancy)**

â€‹	â€¢	**ë„¤íŠ¸ì›Œí¬ì—ì„œ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ ì—­í• ì„ í•˜ëŠ” ë¼ìš°í„°ê°€ ì¥ì• ê°€ ë°œìƒí•´ë„, ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ë¼ìš°í„°ê°€ ì—­í• ì„ ì´ì–´ë°›ëŠ” ê¸°ëŠ¥**.

â€‹	â€¢	**ì´ ê³¼ì •ì„ ì¡°ìœ¨í•˜ëŠ” í”„ë¡œí† ì½œì„ â€œì´ì¤‘í™” í”„ë¡œí† ì½œ(Redundancy Protocol)â€œì´ë¼ê³  í•¨**.

â€‹	â€¢	ì˜ˆ: **HSRP(Hot Standby Router Protocol), VRRP(Virtual Router Redundancy Protocol), GLBP(Gateway Load Balancing Protocol)**



âœ… **ì´ëŸ¬í•œ ê¸°ìˆ ì„ í†µí•´ ë¼ìš°í„° ì¥ì•  ì‹œ ë„¤íŠ¸ì›Œí¬ê°€ ìë™ìœ¼ë¡œ ë³µêµ¬ë˜ë©°, ì—”ë“œ ë””ë°”ì´ìŠ¤(í˜¸ìŠ¤íŠ¸)ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ.** ğŸš€

------

## 9.1.3 Steps for Router Failover



FHRP

- VRRP(virtual router redundancy protocol) : í‘œì¤€
- HSRP : CSICO
- GLBP(gateway load balancing protocol) : CISCO

![image-20250204113748707](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204113748707.png)

**ğŸ“Œ í™œì„± ë¼ìš°í„° ì¥ì•  ì‹œ ì´ì¤‘í™” í”„ë¡œí† ì½œì˜ ë™ì‘ ê³¼ì •**

â€‹	â€¢	**í˜„ì¬ í™œì„± ë¼ìš°í„°ê°€ ì¥ì• (Fail) ë°œìƒ ì‹œ**, ì´ì¤‘í™” í”„ë¡œí† ì½œì´ **ëŒ€ê¸°(Standby) ë¼ìš°í„°ë¥¼ ìƒˆë¡œìš´ í™œì„± ë¼ìš°í„°ë¡œ ì „í™˜**.



**âœ… ë‹¨ê³„ë³„ ê³¼ì •**

1ï¸âƒ£ **ëŒ€ê¸° ë¼ìš°í„°ê°€ í™œì„± ë¼ìš°í„°ì˜ Hello ë©”ì‹œì§€ë¥¼ ë” ì´ìƒ ìˆ˜ì‹ í•˜ì§€ ì•ŠìŒ** â†’ í™œì„± ë¼ìš°í„°ê°€ ë‹¤ìš´ë˜ì—ˆìŒì„ ê°ì§€.

2ï¸âƒ£ **ëŒ€ê¸° ë¼ìš°í„°ê°€ ìƒˆë¡œìš´ í™œì„±(Forwarding) ë¼ìš°í„° ì—­í• ì„ ìˆ˜í–‰**.

3ï¸âƒ£ **ìƒˆë¡œìš´ í™œì„± ë¼ìš°í„°ëŠ” ê¸°ì¡´ ê°€ìƒ ë¼ìš°í„°ì˜ IPv4 ë° MAC ì£¼ì†Œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©**.

4ï¸âƒ£ **í˜¸ìŠ¤íŠ¸(PC ë“±) ì¥ì¹˜ì—ì„œëŠ” ì•„ë¬´ëŸ° ë„¤íŠ¸ì›Œí¬ ë³€ê²½ ì—†ì´ ê³„ì† í†µì‹  ê°€ëŠ¥** â†’ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ìŒ.



âœ… **ì¦‰, ë¼ìš°í„° ì¥ì• ê°€ ë°œìƒí•´ë„ ë„¤íŠ¸ì›Œí¬ê°€ ìë™ìœ¼ë¡œ ë³µêµ¬ë˜ë©°, ì‚¬ìš©ì ë‹¨ì—ì„œëŠ” ì¥ì• ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨.** ğŸš€

------

## 9.1.4 FHRP Options



------

## Configure HSRP (í‚¹ ì˜¤ë¸Œ ëœ ìŠ¤ìœ„ì¹˜ 416p)

### R1 IP ë° HSRP ì„¤ì •

```bash
int f0/1
ip add 1,1,1,4 255.255.255.0 # ì‹¤ì œ ip 
standby 5 ip 1.1.1.1 # ê·¸ë£¹ 5 ì„¤ì • ê°€ìƒ ip ëŠ” 1.1.1.1
no sh
int f0/2
ip add 2.2.2.5 255.255.255.0
standby ip 2.2.2.1
no sh
```

```bash
stnadby 5 priority (100ì„ ê¸°ì¤€ìœ¼ë¡œ A ë¥¼ ì˜¬ë¦¼) # active ë¡œ ë§Œë“œëŠ” ëª…ë ¹ì–´ (default 100)
```

```bash
standbt 5 preempt # ê°€ì ¸ê°€ëŠ” ëª…ë ¹ì–´
```

```bash
standby 5 track solo 30 #(priority ë¥¼ 30 ê°ì†Œ)
# if ê°’ì„ ì•ˆì£¼ë©´ default ë¡œ 10ì„ ê°ì†Œ
```



### R2 ip ë° HSRP ì„¤ì •

```
int f0/1
ip add 1.1.1.5 255.255.255.0
standyby 5 ip 1.1.1.1
no sh
int f0/2
ip add 2.2.2.5 255.255.255.0
standby ip 2.2.2.1
no sh
```

------

## GLBP

GLBP - hsrp ë‚˜ vrrp ì™€ ê°™ì´ ê²Œì´íŠ¸ì›¨ì´ ì´ì¤‘í™” ê¸°ëŠ¥ì„ ì œê³µí•˜ë©´ì„œ, ë³„ë„ì˜ ì„¤ì • ì—†ì´ ë¶€í•˜ë¶„ì‚° ê¸°ëŠ¥ ì œê³µ

 AVG -  ê°€ìƒ mac ì£¼ì†Œ í• ë‹¹

GLBP ì—ì„œ AVG ê°€ ê²°ì •ë˜ëŠ” ìš°ì„ ìˆœìœ„

1. GLBP ìš°ì„ ìˆœìœ„ ê°’ì´ ë†’ì€ ë¼ìš°í„°
2. ì¸í„°í˜ì´ìŠ¤ ip ì£¼ì†Œê°€ ë†’ì€ ë¼ìš°í„°



453 ê·¸ë¦¼ 15-13



------

# Module 10: Lan security concepts



------

# 10.1 Endpoint Security





------

## 10.1.2 Network Security Devices



![image-20250204164837822](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204164837822.png)

NGFWëŠ” ìƒíƒœ ì €ì¥ íŒ¨í‚· ê²€ì‚¬, ì• í”Œë¦¬ì¼€ì´ì…˜ ê°€ì‹œì„± ë° ì œì–´, ì°¨ì„¸ëŒ€ ì¹¨ì… ë°©ì§€ ì‹œìŠ¤í…œ(NGIPS), ê³ ê¸‰ ë§¬ì›¨ì–´ ë³´í˜¸(AMP) ë° URL í•„í„°ë§ì„ ì œê³µí•©ë‹ˆë‹¤.

------

![image-20250204164921591](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204164921591.png)

Nac - ì¸ê°€ ì¸ì¦ ê³„ì • ê´€ë¦¬, NAC ì¥ì¹˜ì—ëŠ” ì¸ì¦, ê¶Œí•œ ë¶€ì—¬ ë° íšŒê³„(AAA) ì„œë¹„ìŠ¤ê°€ í¬í•¨ë©ë‹ˆë‹¤. ëŒ€ê·œëª¨ ê¸°ì—…ì—ì„œëŠ” ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ë¥¼ ë‹¤ì–‘í•œ ì‚¬ìš©ìì™€ ì¥ì¹˜ ìœ í˜•ì— ê±¸ì³ ì•¡ì„¸ìŠ¤ ì •ì±…ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì–´í”Œë¼ì´ì–¸ìŠ¤ì— í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Cisco Identity Services Engine(ISE)ì€ NAC ì¥ì¹˜ì˜ í•œ ì˜ˆì…ë‹ˆë‹¤.

------

# 10.2 Access Control

------

## 10.2.1 Authentication with a Local Password



## 10.2.3 Authentication



------

## 10.2.6 802.1X

í¬íŠ¸ ê¸°ë°˜ì˜ ì¸ì¦ ë°©ì‹



------

# 10.3 Layer 2 Security Threats

**ğŸ“Œ ë„¤íŠ¸ì›Œí¬ ê³µê²© ìœ í˜• ì •ë¦¬**



**ê³µê²© ìœ í˜• (Category)**				**ì„¤ëª… (Examples)**

**MAC í…Œì´ë¸” ê³µê²©** (MAC Table Attacks)	MAC ì£¼ì†Œ í”ŒëŸ¬ë”© ê³µê²© (MAC address flooding)

**VLAN ê³µê²©** (VLAN Attacks)	VLAN í˜¸í•‘(VLAN hopping), VLAN ë”ë¸” íƒœê¹…(double-tagging), ë™ì¼ VLAN ë‚´ ê³µê²©

**DHCP ê³µê²©** (DHCP Attacks)	DHCP ê³ ê°ˆ(DHCP starvation), DHCP ìŠ¤í‘¸í•‘(DHCP spoofing)

**ARP ê³µê²©** (ARP Attacks)	ARP ìŠ¤í‘¸í•‘(ARP spoofing), ARP í¬ì´ì¦ˆë‹(ARP poisoning)

**ì£¼ì†Œ ìŠ¤í‘¸í•‘ ê³µê²©** (Address Spoofing Attacks)	MAC ì£¼ì†Œ ë° IP ì£¼ì†Œ ìŠ¤í‘¸í•‘(MAC & IP address spoofing)

**STP ê³µê²©** (STP Attacks)	ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ í”„ë¡œí† ì½œ ì¡°ì‘(STP manipulation attacks)



âœ… **ì´ í‘œëŠ” ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì£¼ìš” ê³µê²© ìœ í˜•ê³¼ ì˜ˆì‹œë¥¼ ê°„ëµí•˜ê²Œ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.** ğŸš€



------

# 10.4 MAC Address Table Attack

------

## 10.4.2 MAC Address Table Flooding



------



# 10.5 LAN Attacks

------



## 10.5.2 VLAN Hopping Attacks

![image-20250204170808106](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204170808106.png)

![image-20250204170953155](/Users/changhee/2WindowLight.github.io/_posts/images/2025-02-04-cisco/image-20250204170953155.png)

vlan íƒœê·¸ë¥¼ ë‘ê°œë¥¼ ë‹¬ë©´ vlan 10 ì„ ê°€ì¡ŒìŒì—ë„, vlan 20ì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤.

switch port ë¥¼ access ë¡œ ì„¤ì •í•˜ë©´ íƒœê·¸ë¥¼ 2ê°œë¡œ í•  ìˆ˜ ì—†ë‹¤.

------



# 11.1 Implement Port Security

------

## 11.1.1 Secure Unused Ports



```
Switch(config)# interface range type module/first-number â€“ last-number
```

ë§ì€ ê´€ë¦¬ìê°€ ë¬´ë‹¨ ì•¡ì„¸ìŠ¤ë¡œë¶€í„° ë„¤íŠ¸ì›Œí¬ë¥¼ ë³´í˜¸í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì€ ìŠ¤ìœ„ì¹˜ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë“  í¬íŠ¸ë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒ

```
S1(config)# interface range fa0/8 - 24
S1(config-if-range)# shutdown
%LINK-5-CHANGED: Interface FastEthernet0/8, changed state to administratively down
(output omitted)
%LINK-5-CHANGED: Interface FastEthernet0/24, changed state to administratively down
S1(config-if-range)#
```

ì˜ˆë¥¼ ë“¤ì–´, S1ì—ì„œ Fa0/8~Fa0/24ì˜ í¬íŠ¸ë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.

------

## 11.1.3 Enable Port Security

```
S1(config)# interface f0/1 
S1(config-if)# switchport port-security // í¬íŠ¸ ë³´ì•ˆ ê¸°ëŠ¥ í™œì„±í™”
Command rejected: FastEthernet0/1 is a dynamic port. // ë™ì  í¬íŠ¸ ì‚¬ìš©
S1(config-if)# switchport mode access
S1(config-if)# switchport port-security
S1(config-if)# end
S1#
```



```
S1(config-if)# switchport port-security ?
  aging        Port-security aging commands
  mac-address  Secure mac address
  maximum      Max secure addresses
  violation    Security violation mode  
S1(config-if)# switchport port-security
```



------

## 11.1.4 Limit and Learn MAC Addresses

```
Switch(config-if)# switchport port-security maximum value // í¬íŠ¸ ê°œìˆ˜ ì œí•œ	
```

**3. Dynamically Learned â€“ Sticky**

ê´€ë¦¬ìëŠ” ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìœ„ì¹˜ê°€ MAC ì£¼ì†Œë¥¼ ë™ì ìœ¼ë¡œ í•™ìŠµí•˜ê³  ì‹¤í–‰ ì¤‘ì¸ êµ¬ì„±ì— "ê³ ì •"í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
Switch(config-if)# switchport port-security mac-address sticky 
```



```
*Mar  1 00:12:38.179: %LINK-3-UPDOWN: Interface FastEthernet0/1, changed state to up
*Mar  1 00:12:39.194: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to up
S1#conf t
Enter configuration commands, one per line.  End with CNTL/Z.
S1(config)#
S1(config)# interface fa0/1
S1(config-if)# switchport mode access
S1(config-if)# switchport port-security
S1(config-if)# switchport port-security maximum 2 // ìµœëŒ€ 2ê°œ
S1(config-if)# switchport port-security mac-address aaaa.bbbb.1234 // 1ê°œ ê³ ì •
S1(config-if)# switchport port-security mac-address sticky	// sticky í˜•ì‹
S1(config-if)# end
S1# show port-security interface fa0/1
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : Shutdown
Aging Time                 : 0 mins	// ìœ ì§€ ì‹œê°„
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 2
Configured MAC Addresses   : 1
Sticky MAC Addresses       : 1
Last Source Address:Vlan   : a41f.7272.676a:1
Security Violation Count   : 0
S1# show port-security address
               Secure Mac Address Table
-----------------------------------------------------------------------------
Vlan    Mac Address       Type                          Ports   Remaining Age
                                                                   (mins)    
----    -----------       ----                          -----   -------------
1    a41f.7272.676a    SecureSticky                  Fa0/1        -
1    aaaa.bbbb.1234    SecureConfigured              Fa0/1        -
-----------------------------------------------------------------------------
Total Addresses in System (excluding one mac per port)     : 1
Max  Addresses limit in System (excluding one mac per port) : 8192
S1#
```

------



## 11.1.7 Ports in error-disabled State

### ì •ì±… ìœ„ë°˜

```
S1# show interface fa0/1 | include down
FastEthernet0/18 is down, line protocol is down (err-disabled)	// ì •ì±… ìœ„ë°˜
(output omitted)
S1# show port-security interface fa0/1
Port Security              : Enabled
Port Status                : Secure-shutdown
Violation Mode             : Shutdown
Aging Time                 : 10 mins
Aging Type                 : Inactivity
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 2
Configured MAC Addresses   : 1
Sticky MAC Addresses       : 1
Last Source Address:Vlan   : a41f.7273.018c:1
Security Violation Count   : 1
S1#

```

------

# 11.5 Mitigate STP Attacks

------

## 11.5.1 PortFast and BPDU Guard



**ğŸ“Œ STP(Spanning Tree Protocol) ì¡°ì‘ ê³µê²© ë° ëŒ€ì‘ ë°©ë²•**

â€‹	â€¢	**ê³µê²©ìê°€ ë£¨íŠ¸ ë¸Œë¦¬ì§€ë¥¼ ìŠ¤í‘¸í•‘(Spoofing)í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ**.

â€‹	â€¢	ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ **PortFast** ë° **BPDU Guard**ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨.



**âœ… STP ì¡°ì‘ ê³µê²© ëŒ€ì‘ ë°©ë²•**



1ï¸âƒ£ **PortFast**

â€‹	â€¢	ì•¡ì„¸ìŠ¤ í¬íŠ¸ê°€ **Listening ë° Learning ìƒíƒœë¥¼ ê±´ë„ˆë›°ê³  ì¦‰ì‹œ Forwarding ìƒíƒœë¡œ ì „í™˜**.

â€‹	â€¢	**ì—”ë“œ ë””ë°”ì´ìŠ¤(PC, í”„ë¦°í„° ë“±)ì— ì—°ê²°ëœ í¬íŠ¸ì—ë§Œ ì ìš©í•´ì•¼ í•¨**.



2ï¸âƒ£ **BPDU Guard**

â€‹	â€¢	**BPDU ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ë©´ í•´ë‹¹ í¬íŠ¸ë¥¼ ì¦‰ì‹œ ì—ëŸ¬ ë¹„í™œì„±í™”(Error-Disable) ìƒíƒœë¡œ ì „í™˜**.

â€‹	â€¢	**PortFastì™€ í•¨ê»˜ ì—”ë“œ ë””ë°”ì´ìŠ¤ í¬íŠ¸ì—ë§Œ ì ìš©í•´ì•¼ í•¨**.



**ğŸ“Œ ì ìš© ì˜ˆì‹œ**

â€‹	â€¢	ê·¸ë¦¼ì—ì„œ **S1ì˜ ì•¡ì„¸ìŠ¤ í¬íŠ¸ì— PortFast ë° BPDU Guardë¥¼ ì„¤ì •í•´ì•¼ í•¨**.

â€‹	â€¢	ì´ë ‡ê²Œ í•˜ë©´ ê³µê²©ìê°€ **BPDU ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•´ STPë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ë°©ì§€**í•  ìˆ˜ ìˆìŒ.



âœ… **ì¦‰, PortFastì™€ BPDU Guardë¥¼ í•¨ê»˜ ì ìš©í•˜ë©´ STP ì¡°ì‘ ê³µê²©ì„ íš¨ê³¼ì ìœ¼ë¡œ ì°¨ë‹¨í•  ìˆ˜ ìˆìŒ.** ğŸš€



------

## 11.5.3 Configure BPDU Guard

```
S1(config)# interface fa0/1 // ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” bpdu ë§Œ ë§‰ëŠ”ë‹¤.
S1(config-if)# spanning-tree bpduguard enable
S1(config-if)# exit
S1(config)# spanning-tree portfast bpduguard default
S1(config)# end
S1# show spanning-tree summary
Switch is in pvst mode
Root bridge for: none
Extended system ID           is enabled
Portfast Default             is enabled
PortFast BPDU Guard Default  is enabled
Portfast BPDU Filter Default is disabled
Loopguard Default            is disabled
EtherChannel misconfig guard is enabled
UplinkFast                   is disabled
BackboneFast                 is disabled
Configured Pathcost method used is short
(output omitted)
S1#
```

