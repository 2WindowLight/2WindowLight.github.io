---
title: <h0>Configure and Modify Standard IPv4 ACLs/h0>
author: cotes   
categories: [cisco virtual cloud]
tags: [Network]












---

## 

## Configure and Modify Standard IPv4 ACLs

**📌 왜 R1에서 PC-C로 갈 때는 S2 → R3 → S3 → PC-C인데, 응답할 때는 PC-C → S3 → R3 → R1인가?**

**🔹 이해해야 할 핵심 개념**



✅ **L2 스위치(S2, S3, S4)는 라우팅을 수행하지 않고 단순한 프레임 전달 장치**

✅ **라우터(R1, R3)는 서로 다른 네트워크 간의 패킷을 라우팅하는 역할**

✅ **PC-C에서 응답할 때, 패킷은 기본 게이트웨이(R3)로 먼저 전달됨**

**🔹 1️⃣ R1에서 PC-C로 가는 과정**

​	1.	**R1에서 PC-C(192.168.30.3)로 패킷을 보냄**

​	•	목적지 네트워크 **192.168.30.0/24**가 R1의 직접 연결된 네트워크가 아님

​	•	따라서 **라우팅 테이블을 참조**하여 R3를 통해야 함

​	2.	**R1에서 R3로 패킷 전달**

​	•	R1의 **G0/0/1 (192.168.20.1)**에서 패킷을 보냄

​	•	이때, **S2를 통해 R3로 전달됨** (L2 네트워크 내 스위칭)

​	3.	**R3에서 PC-C로 전달**

​	•	R3는 **192.168.30.0/24 네트워크를 직접 연결**

​	•	R3의 **G0/0/0 (192.168.30.1)**에서 PC-C(192.168.30.3)로 패킷을 전송

​	•	**S3를 통해 PC-C로 전달됨** (L2 스위치 동작)

**🔹 2️⃣ PC-C에서 R1로 응답하는 과정**

​	1.	**PC-C가 응답 패킷 생성**

​	•	출발지 IP: **192.168.30.3**

​	•	목적지 IP: **R1의 IP (예: 192.168.10.1 또는 192.168.20.1)**

​	2.	**PC-C는 기본 게이트웨이(R3)로 패킷 전송**

​	•	PC-C는 다른 네트워크로 나가기 위해 기본 게이트웨이(192.168.30.1, 즉 R3)로 보냄

​	•	**S3를 통해 R3로 전달됨**

​	3.	**R3에서 R1로 패킷 전달**

​	•	R3는 패킷의 목적지 네트워크(192.168.10.0/24 또는 192.168.20.0/24)를 보고 R1로 보냄

​	•	**여기서 중요한 점: R3는 L2 스위치가 아니라 라우터이므로, 직접 R1으로 패킷을 보낼 수 있음**

​	•	따라서, **R3는 S3를 거치지 않고 직접 R1으로 패킷을 전송** (L3 라우팅 동작)

**🔹 3️⃣ 왜 올 때는 S3를 거치지 않는가?**



✔ **R1에서 보낼 때는 스위치(S2)를 통해서 R3로 갔지만, PC-C에서 응답할 때는 기본 게이트웨이(R3)로 직접 감**

✔ **R3는 라우터이므로, 다시 L2 스위치를 거치지 않고 직접 R1으로 전송 가능**

✔ **L2 스위치는 같은 네트워크 내에서만 동작하므로, R3에서 다시 S3로 보낼 필요가 없음**

**🔹 결론**

​	•	R1에서 PC-C로 갈 때는 **L2 네트워크(S2)를 거쳐 R3로 전달됨**

​	•	하지만 **PC-C에서 R1로 응답할 때는 기본 게이트웨이(R3)를 통해 바로 R1으로 전달됨**

​	•	**R3는 L3 라우터이므로, 다시 S3를 거칠 필요가 없음**

​	•	**즉, R3가 패킷을 직접 R1으로 라우팅하므로 경로가 달라짐**



👉 **이것이 스위치(L2)와 라우터(L3)의 차이이며, 네트워크가 패킷을 전달하는 방식입니다.**



------

## 